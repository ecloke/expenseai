(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[865],{41418:function(e,t,a){Promise.resolve().then(a.bind(a,77426))},77426:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return C}});var s=a(57437),r=a(29),n=a.n(r),l=a(2265),o=a(99376),i=a(2141),d=a(4125),c=a(62869),m=a(95186),x=a(26815),u=a(66070),b=a(11239),h=a(82023),g=a(86595),p=a(31047),f=a(91723),y=a(83774),w=a(92451),j=a(10407),N=a(22135),v=a(40875),k=a(89912),D=a(40257);class S{async getExpenses(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{searchTerm:a,categoryFilter:s,projectFilter:r,dateRange:n,customStartDate:l,customEndDate:o,limit:i=20,offset:d=0}=t,c=this.supabase.from("expenses").select("*, projects(name, currency)",{count:"exact"}).eq("user_id",e).order("receipt_date",{ascending:!1});a&&(c=c.ilike("store_name","%".concat(a,"%"))),s&&"all"!==s&&(c=c.eq("category",s)),"general"===r?c=c.is("project_id",null):r&&"all"!==r&&(c=c.eq("project_id",r)),"week"===n?c=c.gte("receipt_date",(0,k.YM)(7)):"month"===n?c=c.gte("receipt_date",(0,k.S8)()):"custom"===n&&(l&&(c=c.gte("receipt_date",(0,k.Gv)(l))),o&&(c=c.lte("receipt_date",(0,k.Gv)(o))));let{data:m,error:x,count:u}=await c.range(d,d+i-1);if(x)throw x;return{data:m||[],count:u||0}}async getExpensesByDateRange(e,t,a){let{data:s,error:r}=await this.supabase.from("expenses").select("*").eq("user_id",e).gte("receipt_date",t).lte("receipt_date",a).order("receipt_date",{ascending:!1});if(r)throw r;return s||[]}async getTodayExpenses(e){let t=(0,k.TS)();return this.getExpensesByDateRange(e,t,t)}async getYesterdayExpenses(e){let t=(0,k.T5)();return this.getExpensesByDateRange(e,t,t)}async getWeekExpenses(e){let t=(0,k.ln)(),a=(0,k.TS)();return this.getExpensesByDateRange(e,t,a)}async getMonthExpenses(e){let t=(0,k.S8)(),a=(0,k.TS)();return this.getExpensesByDateRange(e,t,a)}async createExpense(e,t){let{data:a,error:s}=await this.supabase.from("expenses").insert([{user_id:e,receipt_date:t.receiptDate,store_name:t.storeName,category:t.category,total_amount:t.totalAmount,project_id:t.projectId||null,created_at:new Date().toISOString()}]).select().single();if(s)throw s;return a}async updateExpense(e,t,a){let{data:s,error:r}=await this.supabase.from("expenses").update(a).eq("id",t).eq("user_id",e).select().single();if(r)throw r;return s}async deleteExpense(e,t){let{error:a}=await this.supabase.from("expenses").delete().eq("id",t).eq("user_id",e);if(a)throw a}async getExpenseStats(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"month",a=this.supabase.from("expenses").select("category, total_amount").eq("user_id",e);"week"===t?a=a.gte("receipt_date",(0,k.YM)(7)):"month"===t?a=a.gte("receipt_date",(0,k.S8)()):"year"===t&&(a=a.gte("receipt_date",(0,k.YM)(365)));let{data:s,error:r}=await a;if(r)throw r;let n=s||[],l=n.reduce((e,t)=>e+parseFloat(t.total_amount),0),o=n.length,i={};n.forEach(e=>{let t=e.category;i[t]=(i[t]||0)+parseFloat(e.total_amount)});let d=Object.entries(i).map(e=>{let[t,a]=e;return{category:t,amount:parseFloat(a.toFixed(2)),percentage:l>0?parseFloat((a/l*100).toFixed(1)):0}}).sort((e,t)=>t.amount-e.amount);return{total:parseFloat(l.toFixed(2)),count:o,categories:d}}constructor(){this.supabase=(0,i.J)()}}class _{async getProjects(e){let{data:t,error:a}=await this.supabase.from("projects").select("*").eq("user_id",e).order("created_at",{ascending:!1});if(a)throw a;return t||[]}async createProject(e,t){let{data:a,error:s}=await this.supabase.from("projects").insert([{user_id:e,name:t.name,currency:t.currency,status:"open",created_at:new Date().toISOString()}]).select().single();if(s)throw s;return a}async updateProject(e,t,a){let{data:s,error:r}=await this.supabase.from("projects").update(a).eq("id",t).eq("user_id",e).select().single();if(r)throw r;return s}async deleteProject(e,t){let{error:a}=await this.supabase.from("projects").delete().eq("id",t).eq("user_id",e);if(a)throw a}constructor(){this.supabase=(0,i.J)()}}class Z{async getSession(){return await this.supabase.auth.getSession()}async signIn(e,t){return await this.supabase.auth.signInWithPassword({email:e,password:t})}async signUp(e,t){return await this.supabase.auth.signUp({email:e,password:t})}async signOut(){return await this.supabase.auth.signOut()}constructor(){this.supabase=(0,i.J)()}}class M{async post(e,t){let a=await fetch("".concat(this.baseUrl,"/api").concat(e),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),s=await a.json();if(!a.ok)throw Error(s.error||"API request failed");return s}async get(e){let t=await fetch("".concat(this.baseUrl,"/api").concat(e)),a=await t.json();if(!t.ok)throw Error(a.error||"API request failed");return a}constructor(){this.baseUrl=D.env.NEXT_PUBLIC_BACKEND_URL||"https://expenseai-production.up.railway.app"}}new S,new _,new Z;let E=new M;function C(){let e=(0,o.useRouter)(),[t,a]=(0,l.useState)(null),[r,w]=(0,l.useState)(!0),[j,N]=(0,l.useState)({birthDate:"",birthTime:"",birthPlace:""}),[v,k]=(0,l.useState)(!1),[D,S]=(0,l.useState)(null),[_,Z]=(0,l.useState)(""),[M,C]=(0,l.useState)({count:0,date:""});(0,l.useEffect)(()=>{A()},[]),(0,l.useEffect)(()=>{t&&F()},[t]);let A=async()=>{try{let t=(0,i.J)(),{data:{session:s},error:r}=await t.auth.getSession();if(r||!s){console.log("❌ No active session, redirecting to login"),e.push("/login");return}a(s.user)}catch(t){console.error("Error loading user data:",t),e.push("/login")}finally{w(!1)}},F=()=>{let e=new Date().toLocaleDateString(),t=localStorage.getItem("fortune-usage");if(t){let a=JSON.parse(t);if(a.date===e)C(a);else{let t={count:0,date:e};localStorage.setItem("fortune-usage",JSON.stringify(t)),C(t)}}else{let t={count:0,date:e};localStorage.setItem("fortune-usage",JSON.stringify(t)),C(t)}},O=()=>{let e={count:M.count+1,date:M.date};localStorage.setItem("fortune-usage",JSON.stringify(e)),C(e)},q=M.count<2,Y=async e=>{if(e.preventDefault(),!q){Z("You have reached your daily limit of 2 fortune readings. Please try again tomorrow.");return}if(!(null==t?void 0:t.id)){Z("You must be logged in to use fortune telling.");return}k(!0),Z("");try{let e=await E.post("/fortune/tell-fortune",{userId:t.id,birthDate:j.birthDate,birthTime:j.birthTime,birthPlace:j.birthPlace});e.success?(S(e.fortune),O()):Z(e.error||"Failed to generate fortune reading")}catch(e){Z(e.message||"An error occurred while generating your fortune")}finally{k(!1)}},L=(e,t)=>{N(a=>({...a,[e]:t}))};return r?(0,s.jsx)(d.Z,{children:(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-yellow-400 mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-yellow-200",children:"Loading fortune teller..."})]})})}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n(),{id:"6700764b50a09db",children:"@-webkit-keyframes gradient{0%,100%{background-position:0%50%}50%{background-position:100%50%}}@-moz-keyframes gradient{0%,100%{background-position:0%50%}50%{background-position:100%50%}}@-o-keyframes gradient{0%,100%{background-position:0%50%}50%{background-position:100%50%}}@keyframes gradient{0%,100%{background-position:0%50%}50%{background-position:100%50%}}@-webkit-keyframes shimmer{0%{-webkit-transform:translatex(-100%)skewx(-12deg);transform:translatex(-100%)skewx(-12deg)}100%{-webkit-transform:translatex(200%)skewx(-12deg);transform:translatex(200%)skewx(-12deg)}}@-moz-keyframes shimmer{0%{-moz-transform:translatex(-100%)skewx(-12deg);transform:translatex(-100%)skewx(-12deg)}100%{-moz-transform:translatex(200%)skewx(-12deg);transform:translatex(200%)skewx(-12deg)}}@-o-keyframes shimmer{0%{-o-transform:translatex(-100%)skewx(-12deg);transform:translatex(-100%)skewx(-12deg)}100%{-o-transform:translatex(200%)skewx(-12deg);transform:translatex(200%)skewx(-12deg)}}@keyframes shimmer{0%{-webkit-transform:translatex(-100%)skewx(-12deg);-moz-transform:translatex(-100%)skewx(-12deg);-o-transform:translatex(-100%)skewx(-12deg);transform:translatex(-100%)skewx(-12deg)}100%{-webkit-transform:translatex(200%)skewx(-12deg);-moz-transform:translatex(200%)skewx(-12deg);-o-transform:translatex(200%)skewx(-12deg);transform:translatex(200%)skewx(-12deg)}}.animate-gradient{-webkit-background-size:200%200%;-moz-background-size:200%200%;-o-background-size:200%200%;background-size:200%200%;-webkit-animation:gradient 3s ease infinite;-moz-animation:gradient 3s ease infinite;-o-animation:gradient 3s ease infinite;animation:gradient 3s ease infinite}.animate-shimmer{-webkit-animation:shimmer 2s infinite;-moz-animation:shimmer 2s infinite;-o-animation:shimmer 2s infinite;animation:shimmer 2s infinite}"}),(0,s.jsx)(d.Z,{children:(0,s.jsxs)("div",{className:"jsx-6700764b50a09db min-h-screen bg-gradient-to-br from-red-900 via-red-800 to-yellow-900 relative overflow-hidden",children:[(0,s.jsxs)("div",{className:"jsx-6700764b50a09db absolute inset-0 opacity-15",children:[(0,s.jsx)("div",{className:"jsx-6700764b50a09db absolute top-10 left-10 w-32 h-32 rounded-full bg-gradient-to-br from-yellow-400 to-red-500 animate-pulse blur-sm"}),(0,s.jsx)("div",{className:"jsx-6700764b50a09db absolute top-40 right-20 w-24 h-24 rounded-full bg-gradient-to-br from-red-400 to-yellow-500 animate-pulse delay-1000 blur-sm"}),(0,s.jsx)("div",{className:"jsx-6700764b50a09db absolute bottom-20 left-1/4 w-20 h-20 rounded-full bg-gradient-to-br from-yellow-300 to-red-400 animate-pulse delay-2000 blur-sm"}),(0,s.jsx)("div",{className:"jsx-6700764b50a09db absolute bottom-40 right-1/3 w-28 h-28 rounded-full bg-gradient-to-br from-red-300 to-yellow-400 animate-pulse delay-3000 blur-sm"}),(0,s.jsx)("div",{className:"jsx-6700764b50a09db absolute top-1/2 left-5 w-16 h-16 rounded-full bg-gradient-to-br from-yellow-500 to-red-600 animate-pulse delay-500 blur-sm"}),(0,s.jsx)("div",{className:"jsx-6700764b50a09db absolute top-1/4 right-5 w-12 h-12 rounded-full bg-gradient-to-br from-red-500 to-yellow-600 animate-pulse delay-1500 blur-sm"})]}),(0,s.jsx)("div",{className:"jsx-6700764b50a09db absolute top-20 right-10 text-yellow-400 opacity-30 animate-bounce",children:(0,s.jsx)(b.Z,{className:"h-16 w-16 drop-shadow-lg"})}),(0,s.jsx)("div",{className:"jsx-6700764b50a09db absolute bottom-32 left-16 text-red-400 opacity-30 animate-bounce delay-2000",children:(0,s.jsx)(h.Z,{className:"h-12 w-12 drop-shadow-lg"})}),(0,s.jsx)("div",{style:{animationDuration:"8s"},className:"jsx-6700764b50a09db absolute top-32 left-1/2 text-yellow-300 opacity-25 animate-spin",children:(0,s.jsx)(g.Z,{className:"h-10 w-10 drop-shadow-lg"})}),(0,s.jsx)("div",{style:{animationDuration:"12s"},className:"jsx-6700764b50a09db absolute bottom-1/4 right-1/4 text-red-300 opacity-25 animate-spin",children:(0,s.jsx)(h.Z,{className:"h-8 w-8 drop-shadow-lg"})}),(0,s.jsx)("div",{className:"jsx-6700764b50a09db absolute inset-0 overflow-hidden",children:Array.from({length:20}).map((e,t)=>(0,s.jsx)("div",{style:{top:"".concat(100*Math.random(),"%"),left:"".concat(100*Math.random(),"%"),animationDelay:"".concat(3*Math.random(),"s"),animationDuration:"".concat(2+3*Math.random(),"s")},className:"jsx-6700764b50a09db absolute w-1 h-1 bg-yellow-400 rounded-full animate-ping"},t))}),(0,s.jsxs)("div",{className:"jsx-6700764b50a09db max-w-6xl mx-auto py-12 px-4 relative z-10",children:[(0,s.jsxs)("div",{className:"jsx-6700764b50a09db text-center mb-12 pt-8",children:[(0,s.jsxs)("h1",{className:"jsx-6700764b50a09db text-4xl md:text-5xl font-bold text-yellow-300 mb-4 font-serif tracking-wide",children:[(0,s.jsx)(h.Z,{className:"inline h-8 w-8 md:h-10 md:w-10 mr-3 text-yellow-400"}),"东方占卜",(0,s.jsx)(h.Z,{className:"inline h-8 w-8 md:h-10 md:w-10 ml-3 text-yellow-400"})]}),(0,s.jsx)("h2",{className:"jsx-6700764b50a09db text-2xl md:text-3xl font-semibold text-red-200 mb-2 font-serif",children:"Oriental Fortune Telling"}),(0,s.jsx)("p",{className:"jsx-6700764b50a09db text-yellow-200 text-lg max-w-2xl mx-auto leading-relaxed",children:"Unlock the mysteries of your destiny through ancient Eastern wisdom. Discover your path through the harmony of time, place, and cosmic energy."}),(0,s.jsxs)("div",{className:"jsx-6700764b50a09db mt-4 inline-flex items-center gap-2 bg-red-800/50 px-4 py-2 rounded-full border border-yellow-400/30",children:[(0,s.jsx)(g.Z,{className:"h-4 w-4 text-yellow-400"}),(0,s.jsxs)("span",{className:"jsx-6700764b50a09db text-yellow-200 text-sm",children:["Daily Readings: ",M.count,"/2"]})]})]}),(0,s.jsxs)("div",{className:"jsx-6700764b50a09db grid grid-cols-1 lg:grid-cols-2 gap-8",children:[!D&&(0,s.jsxs)(u.Zb,{className:"bg-gradient-to-br from-red-800/80 to-yellow-800/60 border-2 border-yellow-500/50 shadow-2xl backdrop-blur-sm",children:[(0,s.jsxs)(u.Ol,{className:"text-center",children:[(0,s.jsxs)(u.ll,{className:"text-2xl text-yellow-300 font-serif flex items-center justify-center gap-3",children:[(0,s.jsx)(p.Z,{className:"h-6 w-6"}),"Your Birth Details"]}),(0,s.jsx)(u.SZ,{className:"text-red-200",children:"Enter your birth information to reveal your cosmic blueprint"})]}),(0,s.jsx)(u.aY,{className:"space-y-8 p-8",children:(0,s.jsxs)("form",{onSubmit:Y,className:"jsx-6700764b50a09db space-y-8",children:[(0,s.jsxs)("div",{className:"jsx-6700764b50a09db space-y-4",children:[(0,s.jsxs)(x._,{className:"text-yellow-300 font-medium flex items-center gap-2 text-lg",children:[(0,s.jsx)(p.Z,{className:"h-5 w-5"}),"诞生之日 • Date of Birth"]}),(0,s.jsx)(T,{value:j.birthDate,onChange:e=>L("birthDate",e)})]}),(0,s.jsxs)("div",{className:"jsx-6700764b50a09db space-y-4",children:[(0,s.jsxs)(x._,{className:"text-yellow-300 font-medium flex items-center gap-2 text-lg",children:[(0,s.jsx)(f.Z,{className:"h-5 w-5"}),"时辰 • Time of Birth"]}),(0,s.jsx)(z,{value:j.birthTime,onChange:e=>L("birthTime",e)})]}),(0,s.jsxs)("div",{className:"jsx-6700764b50a09db space-y-4",children:[(0,s.jsxs)(x._,{className:"text-yellow-300 font-medium flex items-center gap-2 text-lg",children:[(0,s.jsx)(y.Z,{className:"h-5 w-5"}),"诞生之地 • Place of Birth"]}),(0,s.jsxs)("div",{className:"jsx-6700764b50a09db relative",children:[(0,s.jsx)(m.I,{type:"text",placeholder:"Enter your birth city and country...",value:j.birthPlace,onChange:e=>L("birthPlace",e.target.value),required:!0,className:"bg-gradient-to-r from-red-900/60 to-yellow-900/40 border-2 border-yellow-500/50 text-yellow-100 text-lg p-4 focus:border-yellow-400 focus:ring-2 focus:ring-yellow-400/50 placeholder:text-red-300/70 rounded-xl"}),(0,s.jsx)("div",{className:"jsx-6700764b50a09db absolute inset-0 rounded-xl bg-gradient-to-r from-yellow-400/10 to-red-400/10 pointer-events-none"}),(0,s.jsx)(y.Z,{className:"absolute right-4 top-1/2 transform -translate-y-1/2 h-5 w-5 text-yellow-400/70"})]}),(0,s.jsx)("p",{className:"jsx-6700764b50a09db text-red-200/80 text-sm italic",children:"例如: Kuala Lumpur, Malaysia • Singapore • Hong Kong • London, UK"})]}),_&&(0,s.jsx)("div",{className:"jsx-6700764b50a09db bg-red-900/70 border border-red-500 p-3 rounded-lg",children:(0,s.jsx)("p",{className:"jsx-6700764b50a09db text-red-200 text-sm",children:_})}),(0,s.jsxs)(c.z,{type:"submit",disabled:v||!q,className:"w-full bg-gradient-to-r from-yellow-500 via-red-500 to-yellow-500 hover:from-yellow-400 hover:via-red-400 hover:to-yellow-400 text-red-900 font-bold py-4 text-xl disabled:opacity-50 disabled:cursor-not-allowed border-2 border-yellow-400 shadow-2xl hover:shadow-3xl transition-all duration-500 transform hover:scale-105 hover:rotate-1 bg-size-200 animate-gradient relative overflow-hidden",style:{backgroundSize:"200% 200%",animation:q&&!v?"gradient 3s ease infinite":"none"},children:[(0,s.jsx)("div",{className:"jsx-6700764b50a09db absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent transform -skew-x-12 animate-shimmer"}),v?(0,s.jsxs)("div",{className:"jsx-6700764b50a09db flex items-center justify-center gap-3 relative z-10",children:[(0,s.jsxs)("div",{className:"jsx-6700764b50a09db relative",children:[(0,s.jsx)("div",{className:"jsx-6700764b50a09db w-6 h-6 border-3 border-red-900 border-t-transparent rounded-full animate-spin"}),(0,s.jsx)("div",{style:{animationDirection:"reverse",animationDelay:"0.5s"},className:"jsx-6700764b50a09db absolute inset-0 w-6 h-6 border-3 border-yellow-300 border-b-transparent rounded-full animate-spin"})]}),(0,s.jsx)("span",{className:"jsx-6700764b50a09db animate-pulse",children:"正在咨询神谕... Consulting the Oracle..."}),(0,s.jsx)(h.Z,{className:"h-5 w-5 animate-pulse"})]}):q?(0,s.jsxs)("div",{className:"jsx-6700764b50a09db flex items-center justify-center gap-3 relative z-10",children:[(0,s.jsx)(h.Z,{className:"h-6 w-6 animate-bounce"}),(0,s.jsx)("span",{className:"jsx-6700764b50a09db bg-gradient-to-r from-red-900 to-yellow-900 bg-clip-text text-transparent font-black",children:"揭示我的命运 • Reveal My Fortune"}),(0,s.jsx)(g.Z,{className:"h-6 w-6 animate-bounce delay-200"})]}):(0,s.jsxs)("div",{className:"jsx-6700764b50a09db flex items-center justify-center gap-2 relative z-10",children:[(0,s.jsx)(g.Z,{className:"h-5 w-5"}),"今日已达上限 • Daily Limit Reached"]})]})]})})]}),!D&&!v&&(0,s.jsxs)(u.Zb,{className:"bg-gradient-to-br from-yellow-800/60 to-red-800/80 border-2 border-red-500/50 shadow-2xl backdrop-blur-sm",children:[(0,s.jsx)(u.Ol,{className:"text-center",children:(0,s.jsxs)(u.ll,{className:"text-2xl text-red-200 font-serif flex items-center justify-center gap-3",children:[(0,s.jsx)(b.Z,{className:"h-6 w-6 text-yellow-400"}),"Ancient Wisdom Awaits"]})}),(0,s.jsx)(u.aY,{children:(0,s.jsxs)("div",{className:"jsx-6700764b50a09db text-center py-6",children:[(0,s.jsx)("div",{className:"jsx-6700764b50a09db mb-6",children:(0,s.jsx)("div",{className:"jsx-6700764b50a09db w-24 h-24 mx-auto bg-gradient-to-br from-yellow-400 to-red-500 rounded-full flex items-center justify-center animate-pulse",children:(0,s.jsx)(h.Z,{className:"h-12 w-12 text-red-900"})})}),(0,s.jsx)("p",{className:"jsx-6700764b50a09db text-yellow-200 mb-6 leading-relaxed",children:"The cosmic energies are aligned and ready to reveal your destiny. Provide your birth details to unlock the secrets written in the stars."}),(0,s.jsxs)("div",{className:"jsx-6700764b50a09db bg-red-900/50 p-4 rounded-lg border border-yellow-500/30",children:[(0,s.jsx)("p",{className:"jsx-6700764b50a09db text-yellow-300 text-sm mb-2 font-semibold",children:"✨ Your Reading Will Include:"}),(0,s.jsxs)("ul",{className:"jsx-6700764b50a09db text-red-200 text-sm space-y-1 text-left",children:[(0,s.jsx)("li",{className:"jsx-6700764b50a09db",children:"• Personality & Core Traits Analysis"}),(0,s.jsx)("li",{className:"jsx-6700764b50a09db",children:"• Career Path Guidance"}),(0,s.jsx)("li",{className:"jsx-6700764b50a09db",children:"• Wealth & Financial Outlook"}),(0,s.jsx)("li",{className:"jsx-6700764b50a09db",children:"• Relationships & Family Destiny"}),(0,s.jsx)("li",{className:"jsx-6700764b50a09db",children:"• Health Tendencies & Warnings"}),(0,s.jsx)("li",{className:"jsx-6700764b50a09db",children:"• Key Life Periods & Turning Points"}),(0,s.jsx)("li",{className:"jsx-6700764b50a09db",children:"• Practical Wisdom for Your Journey"})]})]})]})})]}),D&&(0,s.jsx)("div",{className:"jsx-6700764b50a09db lg:col-span-2",children:(0,s.jsx)(P,{fortune:D,onTryAgain:()=>{S(null),Z("")},canTryAgain:q})})]})]})]})})]})}function P(e){let{fortune:t,onTryAgain:a,canTryAgain:r}=e,n=[{key:"personality",title:"性格 Personality & Core Traits",icon:g.Z,content:t.personality},{key:"career",title:"事业 Career Path",icon:b.Z,content:t.career},{key:"wealth",title:"财富 Wealth & Financial Outlook",icon:h.Z,content:t.wealth},{key:"relationships",title:"关系 Relationships & Family",icon:g.Z,content:t.relationships},{key:"health",title:"健康 Health Tendencies",icon:b.Z,content:t.health},{key:"lifePeriods",title:"转机 Key Life Periods",icon:h.Z,content:t.lifePeriods},{key:"advice",title:"忠告 Practical Advice",icon:g.Z,content:t.advice}];return(0,s.jsxs)(u.Zb,{className:"bg-gradient-to-br from-yellow-50 to-red-50 border-4 border-red-600 shadow-2xl backdrop-blur-sm relative overflow-hidden",children:[(0,s.jsx)("div",{className:"absolute top-0 left-0 w-full h-8 bg-gradient-to-r from-red-600 via-yellow-500 to-red-600"}),(0,s.jsx)("div",{className:"absolute bottom-0 left-0 w-full h-8 bg-gradient-to-r from-red-600 via-yellow-500 to-red-600"}),(0,s.jsxs)(u.Ol,{className:"text-center pt-12 pb-6 bg-gradient-to-br from-red-800/10 to-yellow-600/20",children:[(0,s.jsx)(u.ll,{className:"text-3xl md:text-4xl text-red-800 font-serif mb-2",children:"Your Celestial Scroll"}),(0,s.jsx)(u.SZ,{className:"text-red-600 text-lg",children:"The cosmos has spoken - here is your divine reading"})]}),(0,s.jsxs)(u.aY,{className:"p-6 md:p-8 space-y-8",children:[n.map((e,t)=>{if(!e.content)return null;let a=e.icon;return(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,s.jsx)("div",{className:"bg-gradient-to-r from-red-600 to-yellow-500 p-2 rounded-full",children:(0,s.jsx)(a,{className:"h-5 w-5 text-white"})}),(0,s.jsx)("h3",{className:"text-xl font-serif font-bold text-red-800",children:e.title})]}),(0,s.jsx)("div",{className:"bg-gradient-to-br from-yellow-50/50 to-red-50/30 p-4 md:p-6 rounded-lg border-l-4 border-red-500 shadow-inner",children:(0,s.jsx)("p",{className:"text-red-900 leading-relaxed whitespace-pre-wrap",children:e.content})}),t<n.filter(e=>e.content).length-1&&(0,s.jsx)("div",{className:"flex justify-center my-6",children:(0,s.jsx)("div",{className:"w-16 h-1 bg-gradient-to-r from-transparent via-red-400 to-transparent"})})]},e.key)}),(0,s.jsx)("div",{className:"text-center pt-6 border-t-2 border-red-300",children:(0,s.jsx)(c.z,{onClick:a,disabled:!r,className:"bg-gradient-to-r from-red-600 to-yellow-500 hover:from-red-500 hover:to-yellow-400 text-white font-bold px-8 py-3 disabled:opacity-50 disabled:cursor-not-allowed border border-red-400 shadow-lg hover:shadow-xl transition-all duration-300",children:r?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(h.Z,{className:"h-4 w-4 mr-2"}),"Seek Another Reading"]}):"Daily Limit Reached"})})]})]})}function T(e){let{value:t,onChange:a}=e,[r,n]=(0,l.useState)(new Date().getFullYear()),[o,i]=(0,l.useState)(new Date().getMonth()+1),[d,c]=(0,l.useState)(new Date().getDate());(0,l.useEffect)(()=>{if(t){let[e,a,s]=t.split("-").map(Number);n(e),i(a),c(s)}},[]),(0,l.useEffect)(()=>{a("".concat(r,"-").concat(o.toString().padStart(2,"0"),"-").concat(d.toString().padStart(2,"0")))},[r,o,d,a]);let m=new Date(r,o,0).getDate();return(0,s.jsxs)("div",{className:"bg-gradient-to-br from-red-800/40 to-yellow-800/30 border-2 border-yellow-500/60 rounded-xl p-6 space-y-6",children:[(0,s.jsxs)("div",{className:"text-center space-y-3",children:[(0,s.jsx)("p",{className:"text-yellow-300 text-sm font-medium",children:"年份 Year"}),(0,s.jsxs)("div",{className:"flex items-center justify-center gap-4",children:[(0,s.jsx)("button",{type:"button",onClick:()=>n(e=>e-1),className:"p-2 bg-red-700/50 hover:bg-red-600/70 border border-yellow-500/30 rounded-full transition-colors",children:(0,s.jsx)(w.Z,{className:"h-4 w-4 text-yellow-300"})}),(0,s.jsx)("div",{className:"bg-gradient-to-r from-yellow-600 to-red-600 px-6 py-3 rounded-lg text-white font-bold text-xl min-w-[100px]",children:r}),(0,s.jsx)("button",{type:"button",onClick:()=>n(e=>e+1),className:"p-2 bg-red-700/50 hover:bg-red-600/70 border border-yellow-500/30 rounded-full transition-colors",children:(0,s.jsx)(j.Z,{className:"h-4 w-4 text-yellow-300"})})]})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)("p",{className:"text-yellow-300 text-sm font-medium text-center",children:"月份 Month"}),(0,s.jsx)("div",{className:"grid grid-cols-3 gap-2",children:[{num:1,name:"正月",eng:"January"},{num:2,name:"二月",eng:"February"},{num:3,name:"三月",eng:"March"},{num:4,name:"四月",eng:"April"},{num:5,name:"五月",eng:"May"},{num:6,name:"六月",eng:"June"},{num:7,name:"七月",eng:"July"},{num:8,name:"八月",eng:"August"},{num:9,name:"九月",eng:"September"},{num:10,name:"十月",eng:"October"},{num:11,name:"十一月",eng:"November"},{num:12,name:"十二月",eng:"December"}].map(e=>(0,s.jsx)("button",{type:"button",onClick:()=>i(e.num),className:"p-3 rounded-lg border-2 transition-all text-center ".concat(o===e.num?"bg-gradient-to-r from-yellow-500 to-red-500 border-yellow-400 text-red-900 font-bold scale-105":"bg-red-900/30 border-yellow-500/30 text-yellow-200 hover:bg-red-800/50 hover:border-yellow-400/60"),children:(0,s.jsxs)("div",{className:"text-sm leading-tight",children:[(0,s.jsx)("div",{className:"font-medium",children:e.name}),(0,s.jsx)("div",{className:"text-xs opacity-80",children:e.eng})]})},e.num))})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)("p",{className:"text-yellow-300 text-sm font-medium text-center",children:"日期 Day"}),(0,s.jsx)("div",{className:"grid grid-cols-7 gap-1",children:Array.from({length:m},(e,t)=>t+1).map(e=>(0,s.jsx)("button",{type:"button",onClick:()=>c(e),className:"p-2 rounded-lg border transition-all text-center ".concat(d===e?"bg-gradient-to-r from-yellow-500 to-red-500 border-yellow-400 text-red-900 font-bold scale-110":"bg-red-900/30 border-yellow-500/20 text-yellow-200 hover:bg-red-800/50 hover:border-yellow-400/60"),children:e},e))})]}),(0,s.jsx)("div",{className:"text-center pt-2",children:(0,s.jsxs)("p",{className:"text-yellow-200/80 text-sm",children:["选择的日期: ",(0,s.jsxs)("span",{className:"font-bold text-yellow-300",children:[r,"年 ",o,"月 ",d,"日"]})]})})]})}function z(e){let{value:t,onChange:a}=e,[r,n]=(0,l.useState)(12),[o,i]=(0,l.useState)(0);(0,l.useEffect)(()=>{if(t){let[e,a]=t.split(":").map(Number);n(e),i(a)}},[]),(0,l.useEffect)(()=>{a("".concat(r.toString().padStart(2,"0"),":").concat(o.toString().padStart(2,"0")))},[r,o,a]);let d=[{num:0,name:"子时",period:"23:00-01:00",western:"Midnight"},{num:1,name:"丑时",period:"01:00-03:00",western:"Late Night"},{num:2,name:"寅时",period:"03:00-05:00",western:"Pre-Dawn"},{num:3,name:"卯时",period:"05:00-07:00",western:"Dawn"},{num:4,name:"辰时",period:"07:00-09:00",western:"Morning"},{num:5,name:"巳时",period:"09:00-11:00",western:"Late Morning"},{num:6,name:"午时",period:"11:00-13:00",western:"Noon"},{num:7,name:"未时",period:"13:00-15:00",western:"Afternoon"},{num:8,name:"申时",period:"15:00-17:00",western:"Late Afternoon"},{num:9,name:"酉时",period:"17:00-19:00",western:"Evening"},{num:10,name:"戌时",period:"19:00-21:00",western:"Night"},{num:11,name:"亥时",period:"21:00-23:00",western:"Late Night"}],c=23===r||0===r?d[0]:d[Math.floor((r+1)/2)]||d[0];return(0,s.jsxs)("div",{className:"bg-gradient-to-br from-red-800/40 to-yellow-800/30 border-2 border-yellow-500/60 rounded-xl p-6 space-y-6",children:[(0,s.jsxs)("div",{className:"text-center bg-gradient-to-r from-yellow-600/20 to-red-600/20 p-4 rounded-lg border border-yellow-500/30",children:[(0,s.jsx)("p",{className:"text-yellow-300 text-sm font-medium",children:"当前时辰"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-yellow-200 mt-1",children:c.name}),(0,s.jsxs)("p",{className:"text-red-200 text-sm",children:[c.western," • ",c.period]})]}),(0,s.jsx)("div",{className:"space-y-4",children:(0,s.jsxs)("div",{className:"flex items-center justify-center gap-4",children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("p",{className:"text-yellow-300 text-sm font-medium mb-2",children:"小时 Hour"}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("button",{type:"button",onClick:()=>n(e=>0===e?23:e-1),className:"p-2 bg-red-700/50 hover:bg-red-600/70 border border-yellow-500/30 rounded-full transition-colors",children:(0,s.jsx)(N.Z,{className:"h-4 w-4 text-yellow-300"})}),(0,s.jsx)("div",{className:"bg-gradient-to-r from-yellow-600 to-red-600 px-4 py-3 rounded-lg text-white font-bold text-xl min-w-[60px]",children:r.toString().padStart(2,"0")}),(0,s.jsx)("button",{type:"button",onClick:()=>n(e=>23===e?0:e+1),className:"p-2 bg-red-700/50 hover:bg-red-600/70 border border-yellow-500/30 rounded-full transition-colors",children:(0,s.jsx)(v.Z,{className:"h-4 w-4 text-yellow-300"})})]})]}),(0,s.jsx)("div",{className:"text-yellow-200 text-2xl font-bold",children:":"}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("p",{className:"text-yellow-300 text-sm font-medium mb-2",children:"分钟 Minute"}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("button",{type:"button",onClick:()=>i(e=>0===e?59:e-1),className:"p-2 bg-red-700/50 hover:bg-red-600/70 border border-yellow-500/30 rounded-full transition-colors",children:(0,s.jsx)(N.Z,{className:"h-4 w-4 text-yellow-300"})}),(0,s.jsx)("div",{className:"bg-gradient-to-r from-yellow-600 to-red-600 px-4 py-3 rounded-lg text-white font-bold text-xl min-w-[60px]",children:o.toString().padStart(2,"0")}),(0,s.jsx)("button",{type:"button",onClick:()=>i(e=>59===e?0:e+1),className:"p-2 bg-red-700/50 hover:bg-red-600/70 border border-yellow-500/30 rounded-full transition-colors",children:(0,s.jsx)(v.Z,{className:"h-4 w-4 text-yellow-300"})})]})]})]})}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)("p",{className:"text-yellow-300 text-sm font-medium text-center",children:"快速选择"}),(0,s.jsx)("div",{className:"grid grid-cols-2 gap-2",children:[{time:"06:00",label:"卯时 • Dawn"},{time:"12:00",label:"午时 • Noon"},{time:"18:00",label:"酉时 • Evening"},{time:"00:00",label:"子时 • Midnight"}].map(e=>(0,s.jsxs)("button",{type:"button",onClick:()=>{let[t,a]=e.time.split(":").map(Number);n(t),i(a)},className:"p-3 bg-red-900/30 border border-yellow-500/30 rounded-lg text-yellow-200 hover:bg-red-800/50 hover:border-yellow-400/60 transition-all text-center text-sm",children:[(0,s.jsx)("div",{className:"font-medium",children:e.time}),(0,s.jsx)("div",{className:"text-xs opacity-80",children:e.label})]},e.time))})]}),(0,s.jsx)("div",{className:"text-center pt-2",children:(0,s.jsxs)("p",{className:"text-yellow-200/80 text-sm",children:["选择的时间: ",(0,s.jsxs)("span",{className:"font-bold text-yellow-300",children:[r.toString().padStart(2,"0"),":",o.toString().padStart(2,"0")]})]})})]})}},26815:function(e,t,a){"use strict";a.d(t,{_:function(){return l}});var s=a(57437),r=a(2265),n=a(94508);let l=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("label",{ref:t,className:(0,n.cn)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",a),...r})});l.displayName="Label"},88685:function(e,t,a){"use strict";a.d(t,{ZE:function(){return n},aA:function(){return r},bK:function(){return i},fB:function(){return o},gK:function(){return l},ns:function(){return s}});let s={groceries:"\uD83D\uDED2",dining:"\uD83C\uDF7D️",gas:"⛽",pharmacy:"\uD83D\uDC8A",retail:"\uD83D\uDECD️",services:"\uD83D\uDD27",entertainment:"\uD83C\uDFAC",other:"\uD83D\uDCE6"},r=["all","groceries","dining","gas","pharmacy","retail","services","entertainment","other"],n=["#8884d8","#82ca9d","#ffc658","#ff7300","#00c49f","#0088fe","#ff0062"],l=20,o="Asia/Kuala_Lumpur",i=e=>s[e]||s.other},89912:function(e,t,a){"use strict";a.d(t,{AP:function(){return m},Gv:function(){return x},S8:function(){return p},T5:function(){return b},TS:function(){return u},U_:function(){return c},YM:function(){return h},Y_:function(){return d},ln:function(){return g}});var s=a(646),r=a(56739),n=a(10496),l=a(74968),o=a(95348),i=a(88685);let d=e=>{let t=new Date;switch(e){case"week":return{start:(0,s.z)(t),end:t};case"month":return{start:(0,r.N)(t),end:t};default:return null}},c=e=>(0,o.CV)(new Date(e),i.fB,"MMM dd, yyyy"),m=e=>(0,o.CV)(new Date(e),i.fB,"MMM dd, h:mm a"),x=e=>(0,n.WU)(e,"yyyy-MM-dd"),u=()=>(0,n.WU)(new Date,"yyyy-MM-dd"),b=()=>{let e=(0,l.k)(new Date,1);return(0,n.WU)(e,"yyyy-MM-dd")},h=e=>{let t=(0,l.k)(new Date,e);return(0,n.WU)(t,"yyyy-MM-dd")},g=()=>(0,n.WU)((0,s.z)(new Date),"yyyy-MM-dd"),p=()=>(0,n.WU)((0,r.N)(new Date),"yyyy-MM-dd")}},function(e){e.O(0,[284,609,452,963,780,287,429,416,162,971,117,744],function(){return e(e.s=41418)}),_N_E=e.O()}]);