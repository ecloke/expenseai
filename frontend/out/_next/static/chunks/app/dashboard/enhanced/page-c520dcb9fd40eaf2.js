(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[44],{69133:function(e,s,t){Promise.resolve().then(t.bind(t,41113))},41113:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return er}});var r=t(57437),a=t(2265),n=t(99376),l=t(27648),i=t(2141),c=t(66070),d=t(35974),o=t(62869),u=t(65613),x=t(12339),m=t(47625),f=t(42736),h=t(56940),g=t(97059),j=t(2027),p=t(77719),b=t(1438),v=t(86810),N=t(10062),y=t(20407),w=t(95252),D=t(71621),S=t(70525),Z=t(46221),C=t(48664),_=t(646),k=t(10496),R=t(56739);let F=["#8884d8","#82ca9d","#ffc658","#ff7300","#00c49f","#0088fe","#ff0062"],Y={groceries:"\uD83D\uDED2",dining:"\uD83C\uDF7D️",gas:"⛽",pharmacy:"\uD83D\uDC8A",retail:"\uD83D\uDECD️",services:"\uD83D\uDD27",other:"\uD83D\uDCE6"};function z(e){let{userId:s}=e,[t,n]=(0,a.useState)([]),[l,d]=(0,a.useState)(!0),[o,u]=(0,a.useState)("month"),[z,E]=(0,a.useState)(null);(0,a.useEffect)(()=>{O()},[s,o]);let O=async()=>{try{d(!0);let e=(0,i.J)().from("expenses").select("*").eq("user_id",s).order("receipt_date",{ascending:!1}),t=new Date;if("week"===o){let s=(0,_.z)(t);e=e.gte("receipt_date",(0,k.WU)(s,"yyyy-MM-dd"))}else if("month"===o){let s=(0,R.N)(t);e=e.gte("receipt_date",(0,k.WU)(s,"yyyy-MM-dd"))}let{data:r,error:a}=await e.limit(1e3);if(a)throw a;n(r||[]),E(null)}catch(e){console.error("Error loading expenses:",e),E("Failed to load expense data")}finally{d(!1)}};if(l)return(0,r.jsx)(c.Zb,{children:(0,r.jsx)(c.aY,{className:"p-6",children:(0,r.jsx)("div",{className:"text-center",children:"Loading expense data..."})})});if(z)return(0,r.jsx)(c.Zb,{children:(0,r.jsx)(c.aY,{className:"p-6",children:(0,r.jsx)("div",{className:"text-center text-red-600",children:z})})});let T=(()=>{let e={};return t.forEach(s=>{let t=s.receipt_date;e[t]=(e[t]||0)+parseFloat(s.total_amount.toString())}),Object.entries(e).map(e=>{let[s,t]=e;return{date:s,amount:parseFloat(t.toFixed(2)),formatted_date:(0,k.WU)(new Date(s),"MMM dd")}}).sort((e,s)=>new Date(e.date).getTime()-new Date(s.date).getTime()).slice(-30)})(),M=(()=>{let e={};return t.forEach(s=>{let t=s.category;e[t]=(e[t]||0)+parseFloat(s.total_amount.toString())}),Object.entries(e).map(e=>{let[s,t]=e;return{category:s,amount:parseFloat(t.toFixed(2)),percentage:0}}).sort((e,s)=>s.amount-e.amount)})(),I=(()=>{let e={};return t.forEach(s=>{let t=s.store_name;e[t]||(e[t]={amount:0,count:0}),e[t].amount+=parseFloat(s.total_amount.toString()),e[t].count+=1}),Object.entries(e).map(e=>{let[s,t]=e;return{store:s,amount:parseFloat(t.amount.toFixed(2)),count:t.count}}).sort((e,s)=>s.amount-e.amount).slice(0,5)})(),A=(()=>{let e=t.reduce((e,s)=>e+parseFloat(s.total_amount.toString()),0),s=t.length;return{total:parseFloat(e.toFixed(2)),count:s,avgPerTransaction:parseFloat((s>0?e/s:0).toFixed(2))}})();return M.forEach(e=>{e.percentage=parseFloat((e.amount/A.total*100).toFixed(1))}),(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold",children:"Expense Analytics"}),(0,r.jsx)(x.mQ,{value:o,onValueChange:e=>u(e),children:(0,r.jsxs)(x.dr,{children:[(0,r.jsx)(x.SP,{value:"week",children:"This Week"}),(0,r.jsx)(x.SP,{value:"month",children:"This Month"}),(0,r.jsx)(x.SP,{value:"all",children:"All Time"})]})})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,r.jsxs)(c.Zb,{children:[(0,r.jsxs)(c.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(c.ll,{className:"text-sm font-medium",children:"Total Spent"}),(0,r.jsx)(w.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsx)(c.aY,{children:(0,r.jsxs)("div",{className:"text-2xl font-bold",children:["$",A.total]})})]}),(0,r.jsxs)(c.Zb,{children:[(0,r.jsxs)(c.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(c.ll,{className:"text-sm font-medium",children:"Transactions"}),(0,r.jsx)(D.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsx)(c.aY,{children:(0,r.jsx)("div",{className:"text-2xl font-bold",children:A.count})})]}),(0,r.jsxs)(c.Zb,{children:[(0,r.jsxs)(c.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(c.ll,{className:"text-sm font-medium",children:"Avg per Transaction"}),(0,r.jsx)(S.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsx)(c.aY,{children:(0,r.jsxs)("div",{className:"text-2xl font-bold",children:["$",A.avgPerTransaction]})})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,r.jsxs)(c.Zb,{children:[(0,r.jsxs)(c.Ol,{children:[(0,r.jsxs)(c.ll,{className:"flex items-center gap-2",children:[(0,r.jsx)(Z.Z,{className:"h-5 w-5"}),"Daily Spending"]}),(0,r.jsx)(c.SZ,{children:"Your daily expense pattern"})]}),(0,r.jsx)(c.aY,{children:(0,r.jsx)(m.h,{width:"100%",height:300,children:(0,r.jsxs)(f.v,{data:T,children:[(0,r.jsx)(h.q,{strokeDasharray:"3 3"}),(0,r.jsx)(g.K,{dataKey:"formatted_date"}),(0,r.jsx)(j.Q,{}),(0,r.jsx)(p.u,{formatter:e=>["$".concat(e),"Amount"],labelFormatter:e=>"Date: ".concat(e)}),(0,r.jsx)(b.$,{dataKey:"amount",fill:"#8884d8"})]})})})]}),(0,r.jsxs)(c.Zb,{children:[(0,r.jsxs)(c.Ol,{children:[(0,r.jsxs)(c.ll,{className:"flex items-center gap-2",children:[(0,r.jsx)(C.Z,{className:"h-5 w-5"}),"Category Breakdown"]}),(0,r.jsx)(c.SZ,{children:"Spending by category"})]}),(0,r.jsx)(c.aY,{children:(0,r.jsx)(m.h,{width:"100%",height:300,children:(0,r.jsxs)(v.u,{children:[(0,r.jsx)(N.b,{data:M,cx:"50%",cy:"50%",labelLine:!1,label:e=>{let{category:s,percentage:t}=e;return"".concat(Y[s]||""," ").concat(t,"%")},outerRadius:100,fill:"#8884d8",dataKey:"amount",children:M.map((e,s)=>(0,r.jsx)(y.b,{fill:F[s%F.length]},"cell-".concat(s)))}),(0,r.jsx)(p.u,{formatter:e=>["$".concat(e),"Amount"]})]})})})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,r.jsxs)(c.Zb,{children:[(0,r.jsxs)(c.Ol,{children:[(0,r.jsx)(c.ll,{children:"Category Details"}),(0,r.jsx)(c.SZ,{children:"Breakdown by category"})]}),(0,r.jsx)(c.aY,{children:(0,r.jsx)("div",{className:"space-y-4",children:M.map((e,s)=>(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:F[s%F.length]}}),(0,r.jsxs)("span",{className:"font-medium",children:[Y[e.category]," ",e.category]})]}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsxs)("div",{className:"font-semibold",children:["$",e.amount]}),(0,r.jsxs)("div",{className:"text-sm text-muted-foreground",children:[e.percentage,"%"]})]})]},e.category))})})]}),(0,r.jsxs)(c.Zb,{children:[(0,r.jsxs)(c.Ol,{children:[(0,r.jsx)(c.ll,{children:"Top Stores"}),(0,r.jsx)(c.SZ,{children:"Your most visited stores"})]}),(0,r.jsx)(c.aY,{children:(0,r.jsx)("div",{className:"space-y-4",children:I.map((e,s)=>(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"font-medium",children:e.store}),(0,r.jsxs)("div",{className:"text-sm text-muted-foreground",children:[e.count," transactions"]})]}),(0,r.jsxs)("div",{className:"font-semibold",children:["$",e.amount]})]},e.store))})})]})]})]})}var E=t(95186),O=t(94508);let T=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{className:"relative w-full overflow-auto",children:(0,r.jsx)("table",{ref:s,className:(0,O.cn)("w-full caption-bottom text-sm",t),...a})})});T.displayName="Table";let M=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("thead",{ref:s,className:(0,O.cn)("[&_tr]:border-b",t),...a})});M.displayName="TableHeader";let I=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("tbody",{ref:s,className:(0,O.cn)("[&_tr:last-child]:border-0",t),...a})});I.displayName="TableBody",a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("tfoot",{ref:s,className:(0,O.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...a})}).displayName="TableFooter";let A=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("tr",{ref:s,className:(0,O.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...a})});A.displayName="TableRow";let V=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("th",{ref:s,className:(0,O.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...a})});V.displayName="TableHead";let J=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("td",{ref:s,className:(0,O.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...a})});J.displayName="TableCell",a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("caption",{ref:s,className:(0,O.cn)("mt-4 text-sm text-muted-foreground",t),...a})}).displayName="TableCaption";var q=t(31047),P=t(73247),U=t(64413),W=t(92451),B=t(10407);let L={groceries:"bg-green-100 text-green-800",dining:"bg-orange-100 text-orange-800",gas:"bg-blue-100 text-blue-800",pharmacy:"bg-purple-100 text-purple-800",retail:"bg-pink-100 text-pink-800",services:"bg-yellow-100 text-yellow-800",other:"bg-gray-100 text-gray-800"},$={groceries:"\uD83D\uDED2",dining:"\uD83C\uDF7D️",gas:"⛽",pharmacy:"\uD83D\uDC8A",retail:"\uD83D\uDECD️",services:"\uD83D\uDD27",other:"\uD83D\uDCE6"};function X(e){let{userId:s}=e,[t,n]=(0,a.useState)([]),[l,u]=(0,a.useState)(!0),[x,m]=(0,a.useState)(""),[f,h]=(0,a.useState)(1),[g,j]=(0,a.useState)(0),[p,b]=(0,a.useState)(null);(0,a.useEffect)(()=>{v()},[s,f,x]);let v=async()=>{try{u(!0);let e=(0,i.J)().from("expenses").select("*",{count:"exact"}).eq("user_id",s).order("receipt_date",{ascending:!1});x.trim()&&(e=e.or("store_name.ilike.%".concat(x,"%,category.ilike.%").concat(x,"%")));let t=(f-1)*10,{data:r,error:a,count:l}=await e.range(t,t+10-1);if(a)throw a;n(r||[]),j(l||0),b(null)}catch(e){console.error("Error loading expenses:",e),b("Failed to load expenses")}finally{u(!1)}},N=Math.ceil(g/10),y=e=>{m(e),h(1)},w=e=>{h(Math.max(1,Math.min(e,N)))};return(0,r.jsxs)(c.Zb,{children:[(0,r.jsxs)(c.Ol,{children:[(0,r.jsxs)(c.ll,{className:"flex items-center gap-2",children:[(0,r.jsx)(q.Z,{className:"h-5 w-5"}),"Recent Expenses"]}),(0,r.jsxs)(c.SZ,{children:["All your expense transactions ",g>0&&"(".concat(g," total)")]})]}),(0,r.jsxs)(c.aY,{children:[(0,r.jsx)("div",{className:"flex items-center space-x-2 mb-4",children:(0,r.jsxs)("div",{className:"relative flex-1",children:[(0,r.jsx)(P.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),(0,r.jsx)(E.I,{placeholder:"Search by store name or category...",value:x,onChange:e=>y(e.target.value),className:"pl-10"})]})}),l?(0,r.jsx)("div",{className:"text-center py-8",children:"Loading expenses..."}):p?(0,r.jsx)("div",{className:"text-center py-8 text-red-600",children:p}):0===t.length?(0,r.jsx)("div",{className:"text-center py-8 text-gray-500",children:x?"No expenses found matching your search.":"No expenses found."}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"rounded-md border",children:(0,r.jsxs)(T,{children:[(0,r.jsx)(M,{children:(0,r.jsxs)(A,{children:[(0,r.jsx)(V,{children:"Date"}),(0,r.jsx)(V,{children:"Store"}),(0,r.jsx)(V,{children:"Category"}),(0,r.jsx)(V,{className:"text-right",children:"Amount"})]})}),(0,r.jsx)(I,{children:t.map(e=>(0,r.jsxs)(A,{children:[(0,r.jsxs)(J,{children:[(0,r.jsx)("div",{className:"font-medium",children:(0,k.WU)(new Date(e.receipt_date),"MMM dd, yyyy")}),(0,r.jsx)("div",{className:"text-sm text-gray-500",children:(0,k.WU)(new Date(e.created_at),"h:mm a")})]}),(0,r.jsx)(J,{children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(U.Z,{className:"h-4 w-4 text-gray-400"}),(0,r.jsx)("span",{className:"font-medium",children:e.store_name})]})}),(0,r.jsx)(J,{children:(0,r.jsxs)(d.C,{variant:"secondary",className:L[e.category]||L.other,children:[$[e.category]," ",e.category]})}),(0,r.jsx)(J,{className:"text-right",children:(0,r.jsxs)("span",{className:"font-semibold text-lg",children:["$",parseFloat(e.total_amount.toString()).toFixed(2)]})})]},e.id))})]})}),N>1&&(0,r.jsxs)("div",{className:"flex items-center justify-between mt-4",children:[(0,r.jsxs)("div",{className:"text-sm text-gray-500",children:["Showing ",(f-1)*10+1," to ",Math.min(10*f,g)," of ",g," expenses"]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsxs)(o.z,{variant:"outline",size:"sm",onClick:()=>w(f-1),disabled:1===f,children:[(0,r.jsx)(W.Z,{className:"h-4 w-4"}),"Previous"]}),(0,r.jsx)("div",{className:"flex items-center space-x-1",children:[...Array(Math.min(5,N))].map((e,s)=>{let t=Math.max(1,f-2)+s;return t>N?null:(0,r.jsx)(o.z,{variant:t===f?"default":"outline",size:"sm",onClick:()=>w(t),className:"w-8 h-8 p-0",children:t},t)})}),(0,r.jsxs)(o.z,{variant:"outline",size:"sm",onClick:()=>w(f+1),disabled:f===N,children:["Next",(0,r.jsx)(B.Z,{className:"h-4 w-4"})]})]})]})]})]})]})}var G=t(22252),Q=t(47692),H=t(98728),K=t(82222),ee=t(65302),es=t(96362),et=t(11239);function er(){let[e,s]=(0,a.useState)(!0),[t,m]=(0,a.useState)(null),[f,h]=(0,a.useState)(null),[g,j]=(0,a.useState)(null),p=(0,n.useRouter)();(0,a.useEffect)(()=>{b()},[]);let b=async()=>{try{let e=(0,i.J)(),{data:{session:s},error:t}=await e.auth.getSession();if(t||!s){console.log("❌ No active session, redirecting to login"),p.push("/login");return}j(s.user);let{data:r,error:a}=await e.from("user_configs").select("*").eq("user_id",s.user.id).single();if(a&&"PGRST116"!==a.code)throw a;if(m(r),null==r?void 0:r.telegram_bot_username){let{data:t}=await e.from("bot_sessions").select("*").eq("user_id",s.user.id).single();h(t)}}catch(e){console.error("Error loading user data:",e)}finally{s(!1)}},v=async()=>{let e=(0,i.J)();await e.auth.signOut(),p.push("/login")};return e?(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,r.jsx)("p",{children:"Loading dashboard..."})]})}):t&&t.telegram_bot_token&&t.gemini_api_key?(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-white",children:(0,r.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Expense Dashboard"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Track and analyze your spending patterns"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)(o.z,{variant:"outline",asChild:!0,children:(0,r.jsxs)(l.default,{href:"/dashboard",children:[(0,r.jsx)(Z.Z,{className:"h-4 w-4 mr-2"}),"Classic View"]})}),(0,r.jsx)(o.z,{variant:"outline",asChild:!0,children:(0,r.jsxs)(l.default,{href:"/setup",children:[(0,r.jsx)(H.Z,{className:"h-4 w-4 mr-2"}),"Settings"]})}),(0,r.jsxs)(o.z,{variant:"outline",onClick:v,children:[(0,r.jsx)(Q.Z,{className:"h-4 w-4 mr-2"}),"Sign Out"]})]})]}),(0,r.jsxs)(c.Zb,{className:"mb-8",children:[(0,r.jsx)(c.Ol,{children:(0,r.jsxs)(c.ll,{className:"flex items-center gap-2",children:[(0,r.jsx)(K.Z,{className:"h-5 w-5"}),"Bot Status"]})}),(0,r.jsx)(c.aY,{children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(null==f?void 0:f.is_active)?(0,r.jsx)(ee.Z,{className:"h-5 w-5 text-green-600"}):(0,r.jsx)(G.Z,{className:"h-5 w-5 text-orange-600"}),(0,r.jsxs)("span",{className:"font-medium",children:["@",t.telegram_bot_username]})]}),(0,r.jsx)(d.C,{variant:(null==f?void 0:f.is_active)?"default":"secondary",children:(null==f?void 0:f.is_active)?"Online":"Offline"})]}),(0,r.jsx)(o.z,{variant:"outline",size:"sm",asChild:!0,children:(0,r.jsxs)("a",{href:"https://t.me/".concat(t.telegram_bot_username),target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2",children:[(0,r.jsx)(es.Z,{className:"h-4 w-4"}),"Open Bot"]})})]})})]}),(0,r.jsxs)(u.bZ,{className:"mb-8",children:[(0,r.jsx)(et.Z,{className:"h-4 w-4"}),(0,r.jsxs)(u.X,{children:[(0,r.jsx)("strong",{children:"Enhanced Dashboard Features:"})," This dashboard now uses database storage instead of Google Sheets for better performance. Your bot supports commands like /today, /week, /month for instant expense queries!"]})]}),(0,r.jsxs)(x.mQ,{defaultValue:"analytics",className:"space-y-6",children:[(0,r.jsxs)(x.dr,{className:"grid w-full grid-cols-2",children:[(0,r.jsxs)(x.SP,{value:"analytics",className:"flex items-center gap-2",children:[(0,r.jsx)(C.Z,{className:"h-4 w-4"}),"Analytics"]}),(0,r.jsxs)(x.SP,{value:"expenses",className:"flex items-center gap-2",children:[(0,r.jsx)(D.Z,{className:"h-4 w-4"}),"All Expenses"]})]}),(0,r.jsx)(x.nU,{value:"analytics",className:"space-y-6",children:(0,r.jsx)(z,{userId:null==g?void 0:g.id})}),(0,r.jsx)(x.nU,{value:"expenses",className:"space-y-6",children:(0,r.jsx)(X,{userId:null==g?void 0:g.id})})]}),(0,r.jsxs)(c.Zb,{className:"mt-8 border-yellow-200 bg-yellow-50",children:[(0,r.jsx)(c.Ol,{children:(0,r.jsx)(c.ll,{className:"text-yellow-800",children:"Database Migration Required"})}),(0,r.jsx)(c.aY,{children:(0,r.jsxs)(u.bZ,{children:[(0,r.jsx)(G.Z,{className:"h-4 w-4"}),(0,r.jsxs)(u.X,{children:[(0,r.jsx)("strong",{children:"Manual Step Required:"})," To see your expense data, run the SQL migration in your Supabase dashboard:",(0,r.jsx)("br",{}),(0,r.jsx)("code",{className:"bg-gray-100 px-2 py-1 rounded text-sm",children:"backend/migrations/add_expenses_table.sql"})]})]})})]})]})}):(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-white p-4",children:(0,r.jsx)("div",{className:"max-w-2xl mx-auto pt-20",children:(0,r.jsxs)(c.Zb,{className:"shadow-xl",children:[(0,r.jsxs)(c.Ol,{className:"text-center",children:[(0,r.jsx)(c.ll,{className:"text-2xl text-blue-900",children:"Complete Your Setup"}),(0,r.jsx)(c.SZ,{children:"You need to configure your bot and AI settings before using the enhanced dashboard."})]}),(0,r.jsxs)(c.aY,{className:"space-y-4",children:[(0,r.jsxs)(u.bZ,{children:[(0,r.jsx)(G.Z,{className:"h-4 w-4"}),(0,r.jsx)(u.X,{children:"Your bot and Gemini AI need to be configured to view expense analytics."})]}),(0,r.jsxs)("div",{className:"flex gap-4 justify-center",children:[(0,r.jsx)(o.z,{asChild:!0,children:(0,r.jsx)(l.default,{href:"/setup",children:"Complete Setup"})}),(0,r.jsxs)(o.z,{variant:"outline",onClick:v,children:[(0,r.jsx)(Q.Z,{className:"h-4 w-4 mr-2"}),"Sign Out"]})]})]})]})})})}},65613:function(e,s,t){"use strict";t.d(s,{X:function(){return d},bZ:function(){return c}});var r=t(57437),a=t(2265),n=t(90535),l=t(94508);let i=(0,n.j)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),c=a.forwardRef((e,s)=>{let{className:t,variant:a,...n}=e;return(0,r.jsx)("div",{ref:s,role:"alert",className:(0,l.cn)(i({variant:a}),t),...n})});c.displayName="Alert",a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("h5",{ref:s,className:(0,l.cn)("mb-1 font-medium leading-none tracking-tight",t),...a})}).displayName="AlertTitle";let d=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,l.cn)("text-sm [&_p]:leading-relaxed",t),...a})});d.displayName="AlertDescription"},35974:function(e,s,t){"use strict";t.d(s,{C:function(){return i}});var r=t(57437);t(2265);var a=t(90535),n=t(94508);let l=(0,a.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i(e){let{className:s,variant:t,...a}=e;return(0,r.jsx)("div",{className:(0,n.cn)(l({variant:t}),s),...a})}},62869:function(e,s,t){"use strict";t.d(s,{z:function(){return d}});var r=t(57437),a=t(2265),n=t(37053),l=t(90535),i=t(94508);let c=(0,l.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=a.forwardRef((e,s)=>{let{className:t,variant:a,size:l,asChild:d=!1,...o}=e,u=d?n.g7:"button";return(0,r.jsx)(u,{className:(0,i.cn)(c({variant:a,size:l,className:t})),ref:s,...o})});d.displayName="Button"},66070:function(e,s,t){"use strict";t.d(s,{Ol:function(){return i},SZ:function(){return d},Zb:function(){return l},aY:function(){return o},ll:function(){return c}});var r=t(57437),a=t(2265),n=t(94508);let l=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...a})});l.displayName="Card";let i=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",t),...a})});i.displayName="CardHeader";let c=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("h3",{ref:s,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",t),...a})});c.displayName="CardTitle";let d=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("p",{ref:s,className:(0,n.cn)("text-sm text-muted-foreground",t),...a})});d.displayName="CardDescription";let o=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,n.cn)("p-6 pt-0",t),...a})});o.displayName="CardContent",a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,n.cn)("flex items-center p-6 pt-0",t),...a})}).displayName="CardFooter"},95186:function(e,s,t){"use strict";t.d(s,{I:function(){return l}});var r=t(57437),a=t(2265),n=t(94508);let l=a.forwardRef((e,s)=>{let{className:t,type:a,...l}=e;return(0,r.jsx)("input",{type:a,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:s,...l})});l.displayName="Input"},12339:function(e,s,t){"use strict";t.d(s,{SP:function(){return d},dr:function(){return c},mQ:function(){return i},nU:function(){return o}});var r=t(57437),a=t(2265),n=t(61695),l=t(94508);let i=n.fC,c=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)(n.aV,{ref:s,className:(0,l.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...a})});c.displayName=n.aV.displayName;let d=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)(n.xz,{ref:s,className:(0,l.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...a})});d.displayName=n.xz.displayName;let o=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)(n.VY,{ref:s,className:(0,l.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...a})});o.displayName=n.VY.displayName},2141:function(e,s,t){"use strict";t.d(s,{J:function(){return i}});var r=t(8439),a=t(95452);let n="***REMOVED***",l="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5obmRub3RxZ2RkbWNqYmdteHRqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzUwNzA5NDAsImV4cCI6MjA1MDY0Njk0MH0.kVG4Cz0WP5TcpmGJBe0jY-6yNIcrYRLVZ_LAfCwm0v4";if(!n||!l)throw Error("Missing Supabase environment variables");(0,r.eI)(n,l);let i=()=>(0,a.createClientComponentClient)()},94508:function(e,s,t){"use strict";t.d(s,{cn:function(){return n}});var r=t(61994),a=t(53335);function n(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,a.m6)((0,r.W)(s))}}},function(e){e.O(0,[284,452,963,176,779,971,117,744],function(){return e(e.s=69133)}),_N_E=e.O()}]);