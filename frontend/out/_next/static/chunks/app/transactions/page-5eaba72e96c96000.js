(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[220],{5276:function(e,t,a){Promise.resolve().then(a.bind(a,87038))},87038:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return H}});var s=a(57437),r=a(2265),l=a(99376),n=a(4125),o=a(2141),i=a(66070),c=a(62869),d=a(95186),x=a(35974),m=a(82650),u=a(32489),g=a(94508);let h=m.fC;m.xz;let y=m.h_;m.x8;let b=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(m.aV,{ref:t,className:(0,g.cn)("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...r})});b.displayName=m.aV.displayName;let p=r.forwardRef((e,t)=>{let{className:a,children:r,...l}=e;return(0,s.jsxs)(y,{children:[(0,s.jsx)(b,{}),(0,s.jsxs)(m.VY,{ref:t,className:(0,g.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...l,children:[r,(0,s.jsxs)(m.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,s.jsx)(u.Z,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});p.displayName=m.VY.displayName;let f=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,g.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...a})};f.displayName="DialogHeader";let j=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,g.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a})};j.displayName="DialogFooter";let N=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(m.Dx,{ref:t,className:(0,g.cn)("text-lg font-semibold leading-none tracking-tight",a),...r})});N.displayName=m.Dx.displayName;let v=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(m.dk,{ref:t,className:(0,g.cn)("text-sm text-muted-foreground",a),...r})});v.displayName=m.dk.displayName;var w=a(26815),C=a(73578),_=a(92735),D=a(90740),M=a(73247),k=a(31047),S=a(71621),E=a(64413),R=a(94630),z=a(18930),F=a(92451),Z=a(10407),A=a(74968),T=a(10496),U=a(56739),V=a(95348),L=a(40875),W=a(30401);function O(e){let{value:t,onValueChange:a,options:l,placeholder:n,className:o=""}=e,[i,c]=(0,r.useState)(!1),d=(0,r.useRef)(null);(0,r.useEffect)(()=>{function e(e){d.current&&!d.current.contains(e.target)&&c(!1)}return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);let x=l.find(e=>e.value===t);return(0,s.jsxs)("div",{className:"relative ".concat(o),ref:d,children:[(0,s.jsxs)("button",{type:"button",onClick:()=>c(!i),className:"w-full flex items-center justify-between px-3 py-2 bg-gray-700 border border-gray-600 text-white rounded-md hover:bg-gray-600 focus:border-blue-500 focus:ring-2 focus:ring-blue-500 focus:ring-opacity-20 transition-colors",children:[(0,s.jsx)("span",{className:x?"text-white":"text-gray-400",children:x?x.label:n}),(0,s.jsx)(L.Z,{className:"h-4 w-4 text-gray-400 transition-transform ".concat(i?"rotate-180":"")})]}),i&&(0,s.jsx)("div",{className:"absolute z-50 w-full mt-1 bg-gray-700 border border-gray-600 rounded-md shadow-lg max-h-60 overflow-auto",children:l.map(e=>(0,s.jsxs)("button",{type:"button",onClick:()=>{a(e.value),c(!1)},className:"w-full flex items-center justify-between px-3 py-2 text-left text-white hover:bg-gray-600 transition-colors",children:[(0,s.jsx)("span",{children:e.label}),t===e.value&&(0,s.jsx)(W.Z,{className:"h-4 w-4 text-blue-400"})]},e.value))})]})}function q(e){let{startDate:t,endDate:a,onDateChange:l,className:n=""}=e,[o,i]=(0,r.useState)(!1),[c,d]=(0,r.useState)(""),[x,m]=(0,r.useState)(""),u=(0,r.useRef)(null);return(0,r.useEffect)(()=>{function e(e){u.current&&!u.current.contains(e.target)&&i(!1)}return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),(0,r.useEffect)(()=>{d(t?(0,T.WU)(t,"yyyy-MM-dd"):""),m(a?(0,T.WU)(a,"yyyy-MM-dd"):"")},[t,a]),(0,s.jsxs)("div",{className:"relative ".concat(n),ref:u,children:[(0,s.jsxs)("button",{type:"button",onClick:()=>i(!o),className:"w-full flex items-center justify-between px-3 py-2 bg-gray-700 border border-gray-600 text-white rounded-md hover:bg-gray-600 focus:border-blue-500 focus:ring-2 focus:ring-blue-500 focus:ring-opacity-20 transition-colors",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(k.Z,{className:"h-4 w-4 text-gray-400"}),(0,s.jsx)("span",{className:t||a?"text-white":"text-gray-400",children:t&&a?"".concat((0,T.WU)(t,"MMM dd")," - ").concat((0,T.WU)(a,"MMM dd")):t?"From ".concat((0,T.WU)(t,"MMM dd")):a?"Until ".concat((0,T.WU)(a,"MMM dd")):"Select date range"})]}),(0,s.jsx)(L.Z,{className:"h-4 w-4 text-gray-400 transition-transform ".concat(o?"rotate-180":"")})]}),o&&(0,s.jsx)("div",{className:"absolute z-50 w-full mt-1 bg-gray-700 border border-gray-600 rounded-md shadow-lg p-4",children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Start Date"}),(0,s.jsx)("input",{type:"date",value:c,onChange:e=>d(e.target.value),className:"w-full px-3 py-2 bg-gray-600 border border-gray-500 text-white rounded-md focus:border-blue-500 focus:ring-2 focus:ring-blue-500 focus:ring-opacity-20"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"End Date"}),(0,s.jsx)("input",{type:"date",value:x,onChange:e=>m(e.target.value),className:"w-full px-3 py-2 bg-gray-600 border border-gray-500 text-white rounded-md focus:border-blue-500 focus:ring-2 focus:ring-blue-500 focus:ring-opacity-20"})]}),(0,s.jsxs)("div",{className:"flex justify-between gap-2",children:[(0,s.jsx)("button",{type:"button",onClick:()=>{d(""),m(""),l(null,null),i(!1)},className:"px-3 py-1 text-sm text-gray-300 hover:text-white transition-colors",children:"Clear"}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)("button",{type:"button",onClick:()=>i(!1),className:"px-3 py-1 text-sm border border-gray-600 text-gray-300 rounded hover:bg-gray-600 transition-colors",children:"Cancel"}),(0,s.jsx)("button",{type:"button",onClick:()=>{l(c?new Date(c):null,x?new Date(x):null),i(!1)},className:"px-3 py-1 text-sm bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:"Apply"})]})]})]})})]})}let I={groceries:"\uD83D\uDED2",dining:"\uD83C\uDF7D️",gas:"⛽",pharmacy:"\uD83D\uDC8A",retail:"\uD83D\uDECD️",services:"\uD83D\uDD27",entertainment:"\uD83C\uDFAC",other:"\uD83D\uDCE6"},J=["all","groceries","dining","gas","pharmacy","retail","services","entertainment","other"],Y="Asia/Kuala_Lumpur";function H(){let[e,t]=(0,r.useState)([]),[a,m]=(0,r.useState)(!0),[u,g]=(0,r.useState)(""),[y,b]=(0,r.useState)("all"),[L,W]=(0,r.useState)("all"),[H,P]=(0,r.useState)(null),[B,$]=(0,r.useState)(null),[K,G]=(0,r.useState)(1),[Q,X]=(0,r.useState)(0),[ee,et]=(0,r.useState)(null),[ea,es]=(0,r.useState)(null),[er,el]=(0,r.useState)(null),[en,eo]=(0,r.useState)(null),[ei,ec]=(0,r.useState)({receipt_date:"",store_name:"",category:"",total_amount:0}),ed=(0,l.useRouter)();(0,r.useEffect)(()=>{ex()},[]),(0,r.useEffect)(()=>{ea&&em()},[ea,K,u,y,L,H,B]);let ex=async()=>{try{let e=(0,o.J)(),{data:{session:t},error:a}=await e.auth.getSession();if(a||!t){ed.push("/login");return}es(t.user)}catch(e){console.error("Error loading user:",e)}},em=async()=>{if(ea)try{m(!0);let e=(0,o.J)().from("expenses").select("*",{count:"exact"}).eq("user_id",ea.id).order("receipt_date",{ascending:!1});u.trim()&&(e=e.or("store_name.ilike.%".concat(u,"%,category.ilike.%").concat(u,"%"))),"all"!==y&&(e=e.eq("category",y));let a=new Date;if("week"===L){let t=(0,A.k)(a,7);e=e.gte("receipt_date",(0,T.WU)(t,"yyyy-MM-dd"))}else if("month"===L){let t=(0,U.N)(a);e=e.gte("receipt_date",(0,T.WU)(t,"yyyy-MM-dd"))}else"custom"===L&&(H&&(e=e.gte("receipt_date",(0,T.WU)(H,"yyyy-MM-dd"))),B&&(e=e.lte("receipt_date",(0,T.WU)(B,"yyyy-MM-dd"))));let s=(K-1)*20,{data:r,error:l,count:n}=await e.range(s,s+20-1);if(l)throw l;t(r||[]),X(n||0),et(null)}catch(e){console.error("Error loading expenses:",e),et("Failed to load expenses")}finally{m(!1)}},eu=Math.ceil(Q/20),eg=e=>{g(e),G(1)},eh=e=>{G(Math.max(1,Math.min(e,eu)))},ey=async()=>{let t=new Blob([[["Date","Store","Category","Amount"],...e.map(e=>[e.receipt_date,e.store_name,e.category,e.total_amount.toString()])].map(e=>e.map(e=>'"'.concat(e,'"')).join(",")).join("\n")],{type:"text/csv"}),a=window.URL.createObjectURL(t),s=document.createElement("a");s.href=a,s.download="expenses-".concat((0,V.CV)(new Date,Y,"yyyy-MM-dd"),".csv"),document.body.appendChild(s),s.click(),document.body.removeChild(s),window.URL.revokeObjectURL(a)},eb=e=>{el(e),ec({receipt_date:e.receipt_date,store_name:e.store_name,category:e.category,total_amount:parseFloat(e.total_amount.toString())})},ep=e=>{eo(e)},ef=async()=>{if(en&&ea)try{let e=(0,o.J)(),{error:t}=await e.from("expenses").delete().eq("id",en.id).eq("user_id",ea.id);if(t)throw t;await em(),eo(null)}catch(e){console.error("Error deleting expense:",e),et("Failed to delete expense")}},ej=async()=>{if(er&&ea)try{let e=(0,o.J)(),{error:t}=await e.from("expenses").update({receipt_date:ei.receipt_date,store_name:ei.store_name,category:ei.category,total_amount:ei.total_amount}).eq("id",er.id).eq("user_id",ea.id);if(t)throw t;await em(),el(null)}catch(e){console.error("Error updating expense:",e),et("Failed to update expense")}};return(0,s.jsx)(n.Z,{children:(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-white",children:"Transactions"}),(0,s.jsx)("p",{className:"text-gray-400 mt-2",children:"View and manage all your expense transactions"})]}),(0,s.jsxs)(c.z,{onClick:ey,className:"bg-blue-600 hover:bg-blue-700 text-white",disabled:0===e.length,children:[(0,s.jsx)(_.Z,{className:"h-4 w-4 mr-2"}),"Export CSV"]})]}),(0,s.jsxs)(i.Zb,{className:"bg-gray-800 border-gray-700",children:[(0,s.jsx)(i.Ol,{children:(0,s.jsxs)(i.ll,{className:"flex items-center gap-2 text-white",children:[(0,s.jsx)(D.Z,{className:"h-5 w-5 text-blue-400"}),"Filters"]})}),(0,s.jsxs)(i.aY,{children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,s.jsxs)("div",{className:"md:col-span-2",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Search"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(M.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),(0,s.jsx)(d.I,{placeholder:"Search by store name or category...",value:u,onChange:e=>eg(e.target.value),className:"pl-10 bg-gray-700 border-gray-600 text-white placeholder:text-gray-400 focus:bg-gray-600 focus:border-blue-500 focus:ring-2 focus:ring-blue-500 focus:ring-opacity-20"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Category"}),(0,s.jsx)(O,{value:y,onValueChange:e=>{b(e),G(1)},options:J.map(e=>({value:e,label:"all"===e?"All Categories":"".concat(I[e]," ").concat(e)})),placeholder:"All Categories"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Time Period"}),(0,s.jsx)(O,{value:L,onValueChange:e=>{W(e),G(1),"custom"!==e&&(P(null),$(null))},options:[{value:"all",label:"All Time"},{value:"week",label:"Last 7 Days"},{value:"month",label:"This Month"},{value:"custom",label:"Custom Range"}],placeholder:"All Time"})]})]}),"custom"===L&&(0,s.jsxs)("div",{className:"mt-4 pt-4 border-t border-gray-600",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Custom Date Range"}),(0,s.jsx)(q,{startDate:H,endDate:B,onDateChange:(e,t)=>{P(e),$(t),W("custom"),G(1)},className:"max-w-sm"})]})]})]}),(0,s.jsxs)(i.Zb,{className:"bg-gray-800 border-gray-700",children:[(0,s.jsxs)(i.Ol,{children:[(0,s.jsxs)(i.ll,{className:"flex items-center gap-2 text-white",children:[(0,s.jsx)(k.Z,{className:"h-5 w-5 text-blue-400"}),"Transactions"]}),(0,s.jsx)(i.SZ,{className:"text-gray-400",children:Q>0?"".concat(Q," total transactions"):"No transactions found"})]}),(0,s.jsx)(i.aY,{children:(0,s.jsx)("div",{className:"min-h-[600px]",children:a?(0,s.jsx)("div",{className:"text-center py-8 text-gray-300",children:"Loading transactions..."}):ee?(0,s.jsx)("div",{className:"text-center py-8 text-red-400",children:ee}):0===e.length?(0,s.jsxs)("div",{className:"text-center py-12 text-gray-400",children:[(0,s.jsx)(S.Z,{className:"h-12 w-12 mx-auto mb-4 text-gray-600"}),(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-300 mb-2",children:"No transactions found"}),(0,s.jsx)("p",{children:"Try adjusting your filters or add some expenses to get started."})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"rounded-md border border-gray-700 bg-gray-700/50",children:(0,s.jsxs)(C.iA,{children:[(0,s.jsx)(C.xD,{children:(0,s.jsxs)(C.SC,{className:"border-gray-600 hover:bg-gray-700/50",children:[(0,s.jsx)(C.ss,{className:"text-gray-300",children:"Date"}),(0,s.jsx)(C.ss,{className:"text-gray-300",children:"Store"}),(0,s.jsx)(C.ss,{className:"text-gray-300",children:"Category"}),(0,s.jsx)(C.ss,{className:"text-right text-gray-300",children:"Amount"}),(0,s.jsx)(C.ss,{className:"text-gray-300",children:"Added"}),(0,s.jsx)(C.ss,{className:"text-gray-300",children:"Actions"})]})}),(0,s.jsx)(C.RM,{children:e.map(e=>(0,s.jsxs)(C.SC,{className:"border-gray-600 hover:bg-gray-600/50",children:[(0,s.jsx)(C.pj,{children:(0,s.jsx)("div",{className:"font-medium text-gray-200",children:(0,V.CV)(new Date(e.receipt_date),Y,"MMM dd, yyyy")})}),(0,s.jsx)(C.pj,{children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(E.Z,{className:"h-4 w-4 text-gray-400"}),(0,s.jsx)("span",{className:"font-medium text-gray-200",children:e.store_name})]})}),(0,s.jsx)(C.pj,{children:(0,s.jsxs)(x.C,{variant:"secondary",className:"bg-gray-600 text-gray-200 border-gray-500",children:[I[e.category]," ",e.category]})}),(0,s.jsx)(C.pj,{className:"text-right",children:(0,s.jsxs)("span",{className:"font-semibold text-lg text-green-400",children:["$",parseFloat(e.total_amount.toString()).toFixed(2)]})}),(0,s.jsx)(C.pj,{children:(0,s.jsx)("div",{className:"text-sm text-gray-400",children:(0,V.CV)(new Date(e.created_at),Y,"MMM dd, h:mm a")})}),(0,s.jsx)(C.pj,{children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(c.z,{size:"sm",variant:"outline",onClick:()=>eb(e),className:"border-gray-600 text-gray-300 hover:bg-gray-700 hover:text-white hover:border-gray-500",children:(0,s.jsx)(R.Z,{className:"h-4 w-4"})}),(0,s.jsx)(c.z,{size:"sm",variant:"outline",onClick:()=>ep(e),className:"border-red-600 text-red-400 hover:bg-red-600 hover:text-white hover:border-red-500",children:(0,s.jsx)(z.Z,{className:"h-4 w-4"})})]})})]},e.id))})]})}),eu>1&&(0,s.jsxs)("div",{className:"flex items-center justify-between mt-6",children:[(0,s.jsxs)("div",{className:"text-sm text-gray-400",children:["Showing ",(K-1)*20+1," to ",Math.min(20*K,Q)," of ",Q," transactions"]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsxs)(c.z,{variant:"outline",size:"sm",onClick:()=>eh(K-1),disabled:1===K,className:"border-gray-600 text-gray-300 hover:bg-gray-700 hover:text-white hover:border-gray-500 disabled:hover:bg-transparent disabled:hover:text-gray-300 disabled:hover:border-gray-600",children:[(0,s.jsx)(F.Z,{className:"h-4 w-4"}),"Previous"]}),(0,s.jsx)("div",{className:"flex items-center space-x-1",children:[...Array(Math.min(5,eu))].map((e,t)=>{let a=Math.max(1,K-2)+t;return a>eu?null:(0,s.jsx)(c.z,{variant:a===K?"default":"outline",size:"sm",onClick:()=>eh(a),className:a===K?"w-8 h-8 p-0 bg-blue-600 hover:bg-blue-700 text-white":"w-8 h-8 p-0 border-gray-600 text-gray-300 hover:bg-gray-700 hover:text-white hover:border-gray-500",children:a},a)})}),(0,s.jsxs)(c.z,{variant:"outline",size:"sm",onClick:()=>eh(K+1),disabled:K===eu,className:"border-gray-600 text-gray-300 hover:bg-gray-700 hover:text-white hover:border-gray-500 disabled:hover:bg-transparent disabled:hover:text-gray-300 disabled:hover:border-gray-600",children:["Next",(0,s.jsx)(Z.Z,{className:"h-4 w-4"})]})]})]})]})})})]}),(0,s.jsx)(h,{open:!!er,onOpenChange:e=>!e&&el(null),children:(0,s.jsxs)(p,{className:"bg-gray-800 border-gray-700 text-white",children:[(0,s.jsxs)(f,{children:[(0,s.jsx)(N,{children:"Edit Expense"}),(0,s.jsx)(v,{className:"text-gray-400",children:"Make changes to your expense record"})]}),(0,s.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,s.jsx)(w._,{htmlFor:"edit-date",className:"text-right text-gray-300",children:"Date"}),(0,s.jsx)(d.I,{id:"edit-date",type:"date",value:ei.receipt_date,onChange:e=>ec({...ei,receipt_date:e.target.value}),className:"col-span-3 bg-gray-700 border-gray-600 text-white"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,s.jsx)(w._,{htmlFor:"edit-store",className:"text-right text-gray-300",children:"Store"}),(0,s.jsx)(d.I,{id:"edit-store",value:ei.store_name,onChange:e=>ec({...ei,store_name:e.target.value}),className:"col-span-3 bg-gray-700 border-gray-600 text-white"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,s.jsx)(w._,{htmlFor:"edit-category",className:"text-right text-gray-300",children:"Category"}),(0,s.jsx)(O,{value:ei.category,onValueChange:e=>ec({...ei,category:e}),options:J.filter(e=>"all"!==e).map(e=>({value:e,label:"".concat(I[e]," ").concat(e)})),placeholder:"Select category"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,s.jsx)(w._,{htmlFor:"edit-amount",className:"text-right text-gray-300",children:"Amount"}),(0,s.jsx)(d.I,{id:"edit-amount",type:"number",step:"0.01",value:ei.total_amount,onChange:e=>ec({...ei,total_amount:parseFloat(e.target.value)||0}),className:"col-span-3 bg-gray-700 border-gray-600 text-white"})]})]}),(0,s.jsxs)(j,{children:[(0,s.jsx)(c.z,{variant:"outline",onClick:()=>el(null),className:"border-gray-600 text-gray-300 hover:bg-gray-700",children:"Cancel"}),(0,s.jsx)(c.z,{onClick:ej,className:"bg-blue-600 hover:bg-blue-700",children:"Save changes"})]})]})}),(0,s.jsx)(h,{open:!!en,onOpenChange:e=>!e&&eo(null),children:(0,s.jsxs)(p,{className:"bg-gray-800 border-gray-700 text-white",children:[(0,s.jsxs)(f,{children:[(0,s.jsx)(N,{children:"Delete Expense"}),(0,s.jsx)(v,{className:"text-gray-400",children:"Are you sure you want to delete this expense? This action cannot be undone."})]}),en&&(0,s.jsx)("div",{className:"py-4",children:(0,s.jsx)("div",{className:"bg-gray-700 p-4 rounded-lg",children:(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-gray-400",children:"Date:"}),(0,s.jsx)("div",{className:"text-white",children:(0,V.CV)(new Date(en.receipt_date),Y,"MMM dd, yyyy")})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-gray-400",children:"Store:"}),(0,s.jsx)("div",{className:"text-white",children:en.store_name})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-gray-400",children:"Category:"}),(0,s.jsxs)("div",{className:"text-white",children:[I[en.category]," ",en.category]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-gray-400",children:"Amount:"}),(0,s.jsxs)("div",{className:"text-green-400 font-semibold",children:["$",parseFloat(en.total_amount.toString()).toFixed(2)]})]})]})})}),(0,s.jsxs)(j,{children:[(0,s.jsx)(c.z,{variant:"outline",onClick:()=>eo(null),className:"border-gray-600 text-gray-300 hover:bg-gray-700",children:"Cancel"}),(0,s.jsx)(c.z,{onClick:ef,className:"bg-red-600 hover:bg-red-700",children:"Delete"})]})]})})]})})}},26815:function(e,t,a){"use strict";a.d(t,{_:function(){return n}});var s=a(57437),r=a(2265),l=a(94508);let n=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("label",{ref:t,className:(0,l.cn)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",a),...r})});n.displayName="Label"},73578:function(e,t,a){"use strict";a.d(t,{RM:function(){return i},SC:function(){return c},iA:function(){return n},pj:function(){return x},ss:function(){return d},xD:function(){return o}});var s=a(57437),r=a(2265),l=a(94508);let n=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{className:"relative w-full overflow-auto",children:(0,s.jsx)("table",{ref:t,className:(0,l.cn)("w-full caption-bottom text-sm",a),...r})})});n.displayName="Table";let o=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("thead",{ref:t,className:(0,l.cn)("[&_tr]:border-b",a),...r})});o.displayName="TableHeader";let i=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("tbody",{ref:t,className:(0,l.cn)("[&_tr:last-child]:border-0",a),...r})});i.displayName="TableBody",r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("tfoot",{ref:t,className:(0,l.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",a),...r})}).displayName="TableFooter";let c=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("tr",{ref:t,className:(0,l.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",a),...r})});c.displayName="TableRow";let d=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("th",{ref:t,className:(0,l.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",a),...r})});d.displayName="TableHead";let x=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("td",{ref:t,className:(0,l.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",a),...r})});x.displayName="TableCell",r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("caption",{ref:t,className:(0,l.cn)("mt-4 text-sm text-muted-foreground",a),...r})}).displayName="TableCaption"}},function(e){e.O(0,[284,452,963,974,416,804,971,117,744],function(){return e(e.s=5276)}),_N_E=e.O()}]);