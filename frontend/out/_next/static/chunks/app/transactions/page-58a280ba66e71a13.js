(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[220],{5276:function(e,t,s){Promise.resolve().then(s.bind(s,79185))},79185:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return A}});var a=s(57437),r=s(2265),n=s(99376),l=s(4125),c=s(2141),i=s(66070),o=s(62869),d=s(95186),x=s(35974),m=s(26110),u=s(26815),h=s(73578),g=s(92735),y=s(90740),b=s(73247),p=s(31047),f=s(71621),j=s(64413),v=s(94630),N=s(18930),w=s(92451),C=s(10407),k=s(76597),_=s(40875),M=s(10496);function D(e){let{startDate:t,endDate:s,onDateChange:n,className:l=""}=e,[c,i]=(0,r.useState)(!1),[o,d]=(0,r.useState)(""),[x,m]=(0,r.useState)(""),u=(0,r.useRef)(null);return(0,r.useEffect)(()=>{function e(e){u.current&&!u.current.contains(e.target)&&i(!1)}return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),(0,r.useEffect)(()=>{d(t?(0,M.WU)(t,"yyyy-MM-dd"):""),m(s?(0,M.WU)(s,"yyyy-MM-dd"):"")},[t,s]),(0,a.jsxs)("div",{className:"relative ".concat(l),ref:u,children:[(0,a.jsxs)("button",{type:"button",onClick:()=>i(!c),className:"w-full flex items-center justify-between px-3 py-2 bg-gray-700 border border-gray-600 text-white rounded-md hover:bg-gray-600 focus:border-blue-500 focus:ring-2 focus:ring-blue-500 focus:ring-opacity-20 transition-colors",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(p.Z,{className:"h-4 w-4 text-gray-400"}),(0,a.jsx)("span",{className:t||s?"text-white":"text-gray-400",children:t&&s?"".concat((0,M.WU)(t,"MMM dd")," - ").concat((0,M.WU)(s,"MMM dd")):t?"From ".concat((0,M.WU)(t,"MMM dd")):s?"Until ".concat((0,M.WU)(s,"MMM dd")):"Select date range"})]}),(0,a.jsx)(_.Z,{className:"h-4 w-4 text-gray-400 transition-transform ".concat(c?"rotate-180":"")})]}),c&&(0,a.jsx)("div",{className:"absolute z-50 w-full mt-1 bg-gray-700 border border-gray-600 rounded-md shadow-lg p-4",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Start Date"}),(0,a.jsx)("input",{type:"date",value:o,onChange:e=>d(e.target.value),className:"w-full px-3 py-2 bg-gray-600 border border-gray-500 text-white rounded-md focus:border-blue-500 focus:ring-2 focus:ring-blue-500 focus:ring-opacity-20"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"End Date"}),(0,a.jsx)("input",{type:"date",value:x,onChange:e=>m(e.target.value),className:"w-full px-3 py-2 bg-gray-600 border border-gray-500 text-white rounded-md focus:border-blue-500 focus:ring-2 focus:ring-blue-500 focus:ring-opacity-20"})]}),(0,a.jsxs)("div",{className:"flex justify-between gap-2",children:[(0,a.jsx)("button",{type:"button",onClick:()=>{d(""),m(""),n(null,null),i(!1)},className:"px-3 py-1 text-sm text-gray-300 hover:text-white transition-colors",children:"Clear"}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("button",{type:"button",onClick:()=>i(!1),className:"px-3 py-1 text-sm border border-gray-600 text-gray-300 rounded hover:bg-gray-600 transition-colors",children:"Cancel"}),(0,a.jsx)("button",{type:"button",onClick:()=>{n(o?new Date(o):null,x?new Date(x):null),i(!1)},className:"px-3 py-1 text-sm bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:"Apply"})]})]})]})})]})}var S=s(88685),Z=s(89912);function A(){let[e,t]=(0,r.useState)([]),[s,_]=(0,r.useState)(!0),[M,A]=(0,r.useState)(""),[E,z]=(0,r.useState)("all"),[R,U]=(0,r.useState)("all"),[T,F]=(0,r.useState)([]),[q,L]=(0,r.useState)("all"),[V,W]=(0,r.useState)(null),[P,G]=(0,r.useState)(null),[K,O]=(0,r.useState)(1),[B,Y]=(0,r.useState)(0),[H,J]=(0,r.useState)(null),[I,$]=(0,r.useState)(null),[Q,X]=(0,r.useState)(null),[ee,et]=(0,r.useState)(null),[es,ea]=(0,r.useState)({receipt_date:"",store_name:"",category:"",total_amount:0}),er=(0,n.useRouter)(),en=S.gK;(0,r.useEffect)(()=>{el()},[]),(0,r.useEffect)(()=>{I&&(ec(),ei())},[I,K,M,E,R,q,V,P]);let el=async()=>{try{let e=(0,c.J)(),{data:{session:t},error:s}=await e.auth.getSession();if(s||!t){er.push("/login");return}$(t.user)}catch(e){console.error("Error loading user:",e)}},ec=async()=>{if(I)try{_(!0);let e=(0,c.J)().from("expenses").select("*, projects(name, currency)",{count:"exact"}).eq("user_id",I.id).order("receipt_date",{ascending:!1});M.trim()&&(e=e.or("store_name.ilike.%".concat(M,"%,category.ilike.%").concat(M,"%"))),"all"!==E&&(e=e.eq("category",E)),"general"===R?e=e.is("project_id",null):"all"!==R&&(e=e.eq("project_id",R)),"week"===q?e=e.gte("receipt_date",(0,Z.YM)(7)):"month"===q?e=e.gte("receipt_date",(0,Z.S8)()):"custom"===q&&(V&&(e=e.gte("receipt_date",(0,Z.Gv)(V))),P&&(e=e.lte("receipt_date",(0,Z.Gv)(P))));let s=(K-1)*en,{data:a,error:r,count:n}=await e.range(s,s+en-1);if(r)throw r;t(a||[]),Y(n||0),J(null)}catch(e){console.error("Error loading expenses:",e),J("Failed to load expenses")}finally{_(!1)}},ei=async()=>{if(I)try{let e=(0,c.J)(),{data:t,error:s}=await e.from("projects").select("id, name, currency").eq("user_id",I.id).order("name");if(s){console.error("Error loading projects:",s);return}F(t||[])}catch(e){console.error("Error loading projects:",e)}},eo=Math.ceil(B/en),ed=e=>{var t;let s=(null===(t=e.projects)||void 0===t?void 0:t.currency)||"$",a=parseFloat(e.total_amount.toString()).toFixed(2);return"".concat(s).concat(a)},ex=e=>{A(e),O(1)},em=e=>{O(Math.max(1,Math.min(e,eo)))},eu=async()=>{let t=new Blob([[["Date","Store","Category","Amount"],...e.map(e=>[e.receipt_date,e.store_name,e.category,e.total_amount.toString()])].map(e=>e.map(e=>'"'.concat(e,'"')).join(",")).join("\n")],{type:"text/csv"}),s=window.URL.createObjectURL(t),a=document.createElement("a");a.href=s,a.download="expenses-".concat((0,Z.TS)(),".csv"),document.body.appendChild(a),a.click(),document.body.removeChild(a),window.URL.revokeObjectURL(s)},eh=e=>{X(e),ea({receipt_date:e.receipt_date,store_name:e.store_name,category:e.category,total_amount:parseFloat(e.total_amount.toString())})},eg=e=>{et(e)},ey=async()=>{if(ee&&I)try{let e=(0,c.J)(),{error:t}=await e.from("expenses").delete().eq("id",ee.id).eq("user_id",I.id);if(t)throw t;await ec(),et(null)}catch(e){console.error("Error deleting expense:",e),J("Failed to delete expense")}},eb=async()=>{if(Q&&I)try{let e=(0,c.J)(),{error:t}=await e.from("expenses").update({receipt_date:es.receipt_date,store_name:es.store_name,category:es.category,total_amount:es.total_amount}).eq("id",Q.id).eq("user_id",I.id);if(t)throw t;await ec(),X(null)}catch(e){console.error("Error updating expense:",e),J("Failed to update expense")}};return(0,a.jsx)(l.Z,{children:(0,a.jsxs)("div",{className:"space-y-6 pt-16 lg:pt-0",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center space-y-3 sm:space-y-0",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Transactions"}),(0,a.jsx)("p",{className:"text-gray-400 mt-1 sm:mt-2 text-sm sm:text-base",children:"View and manage all your expense transactions"})]}),(0,a.jsxs)(o.z,{onClick:eu,className:"bg-blue-600 hover:bg-blue-700 text-white w-full sm:w-auto",disabled:0===e.length,children:[(0,a.jsx)(g.Z,{className:"h-4 w-4 mr-2"}),"Export CSV"]})]}),(0,a.jsxs)(i.Zb,{className:"bg-gray-800 border-gray-700",children:[(0,a.jsx)(i.Ol,{children:(0,a.jsxs)(i.ll,{className:"flex items-center gap-2 text-white text-lg sm:text-xl",children:[(0,a.jsx)(y.Z,{className:"h-5 w-5 text-blue-400"}),"Filters"]})}),(0,a.jsxs)(i.aY,{children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4",children:[(0,a.jsxs)("div",{className:"sm:col-span-2 lg:col-span-2",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Search"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(b.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),(0,a.jsx)(d.I,{placeholder:"Search by store name or category...",value:M,onChange:e=>ex(e.target.value),className:"pl-10 bg-gray-700 border-gray-600 text-white placeholder:text-gray-400 focus:bg-gray-600 focus:border-blue-500 focus:ring-2 focus:ring-blue-500 focus:ring-opacity-20"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Category"}),(0,a.jsx)(k.G,{value:E,onValueChange:e=>{z(e),O(1)},options:S.aA.map(e=>({value:e,label:"all"===e?"All Categories":"".concat(S.ns[e]," ").concat(e)})),placeholder:"All Categories"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Project"}),(0,a.jsx)(k.G,{value:R,onValueChange:e=>{U(e),O(1)},options:[{value:"all",label:"All Projects"},{value:"general",label:"\uD83D\uDCC1 General Expenses"},...T.map(e=>({value:e.id,label:"\uD83D\uDCC1 ".concat(e.name)}))],placeholder:"All Projects"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Time Period"}),(0,a.jsx)(k.G,{value:q,onValueChange:e=>{L(e),O(1),"custom"!==e&&(W(null),G(null))},options:[{value:"all",label:"All Time"},{value:"week",label:"Last 7 Days"},{value:"month",label:"This Month"},{value:"custom",label:"Custom Range"}],placeholder:"All Time"})]})]}),"custom"===q&&(0,a.jsxs)("div",{className:"mt-4 pt-4 border-t border-gray-600",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Custom Date Range"}),(0,a.jsx)(D,{startDate:V,endDate:P,onDateChange:(e,t)=>{W(e),G(t),L("custom"),O(1)},className:"max-w-sm"})]})]})]}),(0,a.jsxs)(i.Zb,{className:"bg-gray-800 border-gray-700",children:[(0,a.jsxs)(i.Ol,{children:[(0,a.jsxs)(i.ll,{className:"flex items-center gap-2 text-white text-lg sm:text-xl",children:[(0,a.jsx)(p.Z,{className:"h-5 w-5 text-blue-400"}),"Transactions"]}),(0,a.jsx)(i.SZ,{className:"text-gray-400 text-sm sm:text-base",children:B>0?"".concat(B," total transactions"):"No transactions found"})]}),(0,a.jsx)(i.aY,{children:(0,a.jsx)("div",{className:"min-h-[400px] sm:min-h-[600px]",children:s?(0,a.jsx)("div",{className:"text-center py-8 text-gray-300",children:"Loading transactions..."}):H?(0,a.jsx)("div",{className:"text-center py-8 text-red-400",children:H}):0===e.length?(0,a.jsxs)("div",{className:"text-center py-12 text-gray-400",children:[(0,a.jsx)(f.Z,{className:"h-12 w-12 mx-auto mb-4 text-gray-600"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-300 mb-2",children:"No transactions found"}),(0,a.jsx)("p",{children:"Try adjusting your filters or add some expenses to get started."})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"hidden sm:block rounded-md border border-gray-700 bg-gray-700/50",children:(0,a.jsxs)(h.iA,{children:[(0,a.jsx)(h.xD,{children:(0,a.jsxs)(h.SC,{className:"border-gray-600 hover:bg-gray-700/50",children:[(0,a.jsx)(h.ss,{className:"text-gray-300 text-xs sm:text-sm",children:"Date"}),(0,a.jsx)(h.ss,{className:"text-gray-300 text-xs sm:text-sm",children:"Store"}),(0,a.jsx)(h.ss,{className:"text-gray-300 text-xs sm:text-sm",children:"Category"}),(0,a.jsx)(h.ss,{className:"text-right text-gray-300 text-xs sm:text-sm",children:"Amount"}),(0,a.jsx)(h.ss,{className:"text-gray-300 text-xs sm:text-sm",children:"Added"}),(0,a.jsx)(h.ss,{className:"text-gray-300 text-xs sm:text-sm",children:"Actions"})]})}),(0,a.jsx)(h.RM,{children:e.map(e=>(0,a.jsxs)(h.SC,{className:"border-gray-600 hover:bg-gray-600/50",children:[(0,a.jsx)(h.pj,{children:(0,a.jsx)("div",{className:"font-medium text-gray-200 text-xs sm:text-sm",children:(0,Z.U_)(e.receipt_date)})}),(0,a.jsx)(h.pj,{children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(j.Z,{className:"h-3 w-3 sm:h-4 sm:w-4 text-gray-400"}),(0,a.jsx)("span",{className:"font-medium text-gray-200 text-xs sm:text-sm truncate max-w-24 sm:max-w-none",children:e.store_name})]})}),(0,a.jsx)(h.pj,{children:(0,a.jsxs)(x.C,{variant:"secondary",className:"bg-gray-600 text-gray-200 border-gray-500 text-xs",children:[(0,S.bK)(e.category)," ",e.category]})}),(0,a.jsx)(h.pj,{className:"text-right",children:(0,a.jsx)("span",{className:"font-semibold text-sm sm:text-lg text-green-400",children:ed(e)})}),(0,a.jsx)(h.pj,{children:(0,a.jsx)("div",{className:"text-xs sm:text-sm text-gray-400",children:(0,Z.AP)(e.created_at)})}),(0,a.jsx)(h.pj,{children:(0,a.jsxs)("div",{className:"flex items-center gap-1 sm:gap-2",children:[(0,a.jsx)(o.z,{size:"sm",variant:"outline",onClick:()=>eh(e),className:"bg-gray-800 border-gray-600 text-white hover:bg-gray-700 hover:text-white hover:border-gray-500 p-1 sm:p-2",children:(0,a.jsx)(v.Z,{className:"h-3 w-3 sm:h-4 sm:w-4"})}),(0,a.jsx)(o.z,{size:"sm",variant:"outline",onClick:()=>eg(e),className:"bg-gray-800 border-red-600 text-red-400 hover:bg-red-600 hover:text-white hover:border-red-500 p-1 sm:p-2",children:(0,a.jsx)(N.Z,{className:"h-3 w-3 sm:h-4 sm:w-4"})})]})})]},e.id))})]})}),(0,a.jsx)("div",{className:"sm:hidden space-y-3",children:e.map(e=>(0,a.jsx)(i.Zb,{className:"bg-gray-700/50 border-gray-600",children:(0,a.jsxs)(i.aY,{className:"p-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,a.jsx)(j.Z,{className:"h-4 w-4 text-gray-400"}),(0,a.jsx)("span",{className:"font-medium text-gray-200 text-sm",children:e.store_name})]}),(0,a.jsx)("div",{className:"text-xs text-gray-400",children:(0,Z.U_)(e.receipt_date)})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("div",{className:"font-semibold text-lg text-green-400 mb-1",children:ed(e)}),(0,a.jsxs)(x.C,{variant:"secondary",className:"bg-gray-600 text-gray-200 border-gray-500 text-xs",children:[(0,S.bK)(e.category)," ",e.category]})]})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{className:"text-xs text-gray-400",children:["Added ",(0,Z.AP)(e.created_at)]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(o.z,{size:"sm",variant:"outline",onClick:()=>eh(e),className:"bg-gray-800 border-gray-600 text-white hover:bg-gray-700 hover:text-white hover:border-gray-500 p-2",children:(0,a.jsx)(v.Z,{className:"h-3 w-3"})}),(0,a.jsx)(o.z,{size:"sm",variant:"outline",onClick:()=>eg(e),className:"bg-gray-800 border-red-600 text-red-400 hover:bg-red-600 hover:text-white hover:border-red-500 p-2",children:(0,a.jsx)(N.Z,{className:"h-3 w-3"})})]})]})]})},e.id))}),eo>1&&(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row items-center justify-between mt-6 space-y-3 sm:space-y-0",children:[(0,a.jsxs)("div",{className:"text-xs sm:text-sm text-gray-400",children:["Showing ",(K-1)*en+1," to ",Math.min(K*en,B)," of ",B," transactions"]}),(0,a.jsxs)("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[(0,a.jsxs)(o.z,{variant:"outline",size:"sm",onClick:()=>em(K-1),disabled:1===K,className:"border-gray-600 text-gray-300 hover:bg-gray-700 hover:text-white hover:border-gray-500 disabled:hover:bg-transparent disabled:hover:text-gray-300 disabled:hover:border-gray-600 text-xs sm:text-sm",children:[(0,a.jsx)(w.Z,{className:"h-3 w-3 sm:h-4 sm:w-4"}),(0,a.jsx)("span",{className:"hidden sm:inline",children:"Previous"})]}),(0,a.jsx)("div",{className:"flex items-center space-x-1",children:[...Array(Math.min(3,eo))].map((e,t)=>{let s=Math.max(1,K-1)+t;return s>eo?null:(0,a.jsx)(o.z,{variant:s===K?"default":"outline",size:"sm",onClick:()=>em(s),className:s===K?"w-7 h-7 sm:w-8 sm:h-8 p-0 bg-blue-600 hover:bg-blue-700 text-white text-xs sm:text-sm":"w-7 h-7 sm:w-8 sm:h-8 p-0 border-gray-600 text-gray-300 hover:bg-gray-700 hover:text-white hover:border-gray-500 text-xs sm:text-sm",children:s},s)})}),(0,a.jsxs)(o.z,{variant:"outline",size:"sm",onClick:()=>em(K+1),disabled:K===eo,className:"border-gray-600 text-gray-300 hover:bg-gray-700 hover:text-white hover:border-gray-500 disabled:hover:bg-transparent disabled:hover:text-gray-300 disabled:hover:border-gray-600 text-xs sm:text-sm",children:[(0,a.jsx)("span",{className:"hidden sm:inline",children:"Next"}),(0,a.jsx)(C.Z,{className:"h-3 w-3 sm:h-4 sm:w-4"})]})]})]})]})})})]}),(0,a.jsx)(m.Vq,{open:!!Q,onOpenChange:e=>!e&&X(null),children:(0,a.jsxs)(m.cZ,{className:"bg-gray-800 border-gray-700 text-white",children:[(0,a.jsxs)(m.fK,{children:[(0,a.jsx)(m.$N,{children:"Edit Expense"}),(0,a.jsx)(m.Be,{className:"text-gray-400",children:"Make changes to your expense record"})]}),(0,a.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,a.jsx)(u._,{htmlFor:"edit-date",className:"text-right text-gray-300",children:"Date"}),(0,a.jsx)(d.I,{id:"edit-date",type:"date",value:es.receipt_date,onChange:e=>ea({...es,receipt_date:e.target.value}),className:"col-span-3 bg-gray-700 border-gray-600 text-white"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,a.jsx)(u._,{htmlFor:"edit-store",className:"text-right text-gray-300",children:"Store"}),(0,a.jsx)(d.I,{id:"edit-store",value:es.store_name,onChange:e=>ea({...es,store_name:e.target.value}),className:"col-span-3 bg-gray-700 border-gray-600 text-white"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,a.jsx)(u._,{htmlFor:"edit-category",className:"text-right text-gray-300",children:"Category"}),(0,a.jsx)(k.G,{value:es.category,onValueChange:e=>ea({...es,category:e}),options:S.aA.filter(e=>"all"!==e).map(e=>({value:e,label:"".concat(S.ns[e]," ").concat(e)})),placeholder:"Select category",className:"col-span-3"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,a.jsx)(u._,{htmlFor:"edit-amount",className:"text-right text-gray-300",children:"Amount"}),(0,a.jsx)(d.I,{id:"edit-amount",type:"number",step:"0.01",value:es.total_amount,onChange:e=>ea({...es,total_amount:parseFloat(e.target.value)||0}),className:"col-span-3 bg-gray-700 border-gray-600 text-white"})]})]}),(0,a.jsxs)(m.cN,{children:[(0,a.jsx)(o.z,{variant:"outline",onClick:()=>X(null),className:"border-gray-600 text-gray-300 hover:bg-gray-700 bg-gray-800",children:"Cancel"}),(0,a.jsx)(o.z,{onClick:eb,className:"bg-blue-600 hover:bg-blue-700",children:"Save changes"})]})]})}),(0,a.jsx)(m.Vq,{open:!!ee,onOpenChange:e=>!e&&et(null),children:(0,a.jsxs)(m.cZ,{className:"bg-gray-800 border-gray-700 text-white",children:[(0,a.jsxs)(m.fK,{children:[(0,a.jsx)(m.$N,{children:"Delete Expense"}),(0,a.jsx)(m.Be,{className:"text-gray-400",children:"Are you sure you want to delete this expense? This action cannot be undone."})]}),ee&&(0,a.jsx)("div",{className:"py-4",children:(0,a.jsx)("div",{className:"bg-gray-700 p-4 rounded-lg",children:(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-400",children:"Date:"}),(0,a.jsx)("div",{className:"text-white",children:(0,Z.U_)(ee.receipt_date)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-400",children:"Store:"}),(0,a.jsx)("div",{className:"text-white",children:ee.store_name})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-400",children:"Category:"}),(0,a.jsxs)("div",{className:"text-white",children:[(0,S.bK)(ee.category)," ",ee.category]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-400",children:"Amount:"}),(0,a.jsx)("div",{className:"text-green-400 font-semibold",children:ed(ee)})]})]})})}),(0,a.jsxs)(m.cN,{children:[(0,a.jsx)(o.z,{variant:"outline",onClick:()=>et(null),className:"border-gray-600 text-gray-300 hover:bg-gray-700 bg-gray-800",children:"Cancel"}),(0,a.jsx)(o.z,{onClick:ey,className:"bg-red-600 hover:bg-red-700",children:"Delete"})]})]})})]})})}},26815:function(e,t,s){"use strict";s.d(t,{_:function(){return l}});var a=s(57437),r=s(2265),n=s(94508);let l=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("label",{ref:t,className:(0,n.cn)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",s),...r})});l.displayName="Label"},76597:function(e,t,s){"use strict";s.d(t,{G:function(){return c}});var a=s(57437),r=s(2265),n=s(40875),l=s(30401);function c(e){let{value:t,onValueChange:s,options:c,placeholder:i,className:o=""}=e,[d,x]=(0,r.useState)(!1),m=(0,r.useRef)(null);(0,r.useEffect)(()=>{function e(e){m.current&&!m.current.contains(e.target)&&x(!1)}return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);let u=c.find(e=>e.value===t);return(0,a.jsxs)("div",{className:"relative ".concat(o),ref:m,children:[(0,a.jsxs)("button",{type:"button",onClick:()=>x(!d),className:"w-full flex items-center justify-between px-3 py-2 bg-gray-700 border border-gray-600 text-white rounded-md hover:bg-gray-600 focus:border-blue-500 focus:ring-2 focus:ring-blue-500 focus:ring-opacity-20 transition-colors",children:[(0,a.jsx)("span",{className:u?"text-white":"text-gray-400",children:u?u.label:i}),(0,a.jsx)(n.Z,{className:"h-4 w-4 text-gray-400 transition-transform ".concat(d?"rotate-180":"")})]}),d&&(0,a.jsx)("div",{className:"absolute z-50 w-full mt-1 bg-gray-700 border border-gray-600 rounded-md shadow-lg max-h-60 overflow-auto",children:c.map(e=>(0,a.jsxs)("button",{type:"button",onClick:()=>{s(e.value),x(!1)},className:"w-full flex items-center justify-between px-3 py-3 text-left text-white hover:bg-gray-600 transition-colors min-h-[44px]",children:[(0,a.jsx)("span",{children:e.label}),t===e.value&&(0,a.jsx)(l.Z,{className:"h-4 w-4 text-blue-400"})]},e.value))})]})}},73578:function(e,t,s){"use strict";s.d(t,{RM:function(){return i},SC:function(){return o},iA:function(){return l},pj:function(){return x},ss:function(){return d},xD:function(){return c}});var a=s(57437),r=s(2265),n=s(94508);let l=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{className:"relative w-full overflow-auto",children:(0,a.jsx)("table",{ref:t,className:(0,n.cn)("w-full caption-bottom text-sm",s),...r})})});l.displayName="Table";let c=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("thead",{ref:t,className:(0,n.cn)("[&_tr]:border-b",s),...r})});c.displayName="TableHeader";let i=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("tbody",{ref:t,className:(0,n.cn)("[&_tr:last-child]:border-0",s),...r})});i.displayName="TableBody",r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("tfoot",{ref:t,className:(0,n.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",s),...r})}).displayName="TableFooter";let o=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("tr",{ref:t,className:(0,n.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",s),...r})});o.displayName="TableRow";let d=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("th",{ref:t,className:(0,n.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",s),...r})});d.displayName="TableHead";let x=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("td",{ref:t,className:(0,n.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",s),...r})});x.displayName="TableCell",r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("caption",{ref:t,className:(0,n.cn)("mt-4 text-sm text-muted-foreground",s),...r})}).displayName="TableCaption"},88685:function(e,t,s){"use strict";s.d(t,{ZE:function(){return n},aA:function(){return r},bK:function(){return i},fB:function(){return c},gK:function(){return l},ns:function(){return a}});let a={groceries:"\uD83D\uDED2",dining:"\uD83C\uDF7D️",gas:"⛽",pharmacy:"\uD83D\uDC8A",retail:"\uD83D\uDECD️",services:"\uD83D\uDD27",entertainment:"\uD83C\uDFAC",other:"\uD83D\uDCE6"},r=["all","groceries","dining","gas","pharmacy","retail","services","entertainment","other"],n=["#8884d8","#82ca9d","#ffc658","#ff7300","#00c49f","#0088fe","#ff0062"],l=20,c="Asia/Kuala_Lumpur",i=e=>a[e]||a.other},89912:function(e,t,s){"use strict";s.d(t,{AP:function(){return x},Gv:function(){return m},S8:function(){return b},T5:function(){return h},TS:function(){return u},U_:function(){return d},YM:function(){return g},Y_:function(){return o},ln:function(){return y}});var a=s(646),r=s(56739),n=s(10496),l=s(74968),c=s(95348),i=s(88685);let o=e=>{let t=new Date;switch(e){case"week":return{start:(0,a.z)(t),end:t};case"month":return{start:(0,r.N)(t),end:t};default:return null}},d=e=>(0,c.CV)(new Date(e),i.fB,"MMM dd, yyyy"),x=e=>(0,c.CV)(new Date(e),i.fB,"MMM dd, h:mm a"),m=e=>(0,n.WU)(e,"yyyy-MM-dd"),u=()=>(0,n.WU)(new Date,"yyyy-MM-dd"),h=()=>{let e=(0,l.k)(new Date,1);return(0,n.WU)(e,"yyyy-MM-dd")},g=e=>{let t=(0,l.k)(new Date,e);return(0,n.WU)(t,"yyyy-MM-dd")},y=()=>(0,n.WU)((0,a.z)(new Date),"yyyy-MM-dd"),b=()=>(0,n.WU)((0,r.N)(new Date),"yyyy-MM-dd")},30401:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(39763).Z)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},40875:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(39763).Z)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},92735:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(39763).Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},90740:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(39763).Z)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]])},94630:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(39763).Z)("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]])},73247:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(39763).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},64413:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(39763).Z)("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]])},18930:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(39763).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])}},function(e){e.O(0,[284,609,452,963,780,287,429,162,971,117,744],function(){return e(e.s=5276)}),_N_E=e.O()}]);